---
phase: 21-global-constants
plan: 02
type: execute
---

<objective>
Update major screens to use the new design system constants.

Purpose: Replace hardcoded values in the three largest screens with constant imports.
Output: CameraScreen, DarkroomScreen, and FeedScreen using centralized constants.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/21-global-constants/21-CONTEXT.md
@.planning/phases/21-global-constants/21-01-SUMMARY.md

**Tech stack available:** React Native, Expo, StyleSheet.create
**Constraint:** No visual changes - every replacement must use the exact equivalent value

**Source files to update:**
@lapse-clone-app/src/screens/CameraScreen.js (937 lines, 80+ values)
@lapse-clone-app/src/screens/DarkroomScreen.js (889 lines, 50+ values)
@lapse-clone-app/src/screens/FeedScreen.js (14.3 KB, 60+ values)

**Constants available (from Plan 01):**
@lapse-clone-app/src/constants/index.js
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update CameraScreen.js with design constants</name>
  <files>lapse-clone-app/src/screens/CameraScreen.js</files>
  <action>
Add import at top:
```javascript
import { colors, typography, spacing, layout, animations } from '../constants';
```

Replace hardcoded values with constants. Key replacements:

**Colors:**

- `'#000000'`, `'#000'`, `'black'` → `colors.background.primary`
- `'#FFFFFF'`, `'#fff'`, `'white'` → `colors.text.primary` or `colors.background.white`
- `'#666666'`, `'#666'` → `colors.text.tertiary`
- `'rgba(0, 0, 0, 0.5)'` → `colors.overlay.dark`
- `'#FF6B6B'` → `colors.brand.coral`

**Typography:**

- `fontSize: 14` → `fontSize: typography.size.sm`
- `fontSize: 16` → `fontSize: typography.size.md`
- `fontSize: 20` → `fontSize: typography.size.xl`
- `fontWeight: '600'` → `fontWeight: typography.weight.semibold`

**Spacing:**

- `padding: 16` → `padding: spacing.md`
- `margin: 8` → `margin: spacing.xs`
- `gap: 12` → `gap: spacing.sm`

**Layout:**

- Keep existing TAB_BAR_HEIGHT, FOOTER_HEIGHT as local constants (screen-specific)
- `borderRadius: 8` → `borderRadius: layout.borderRadius.sm`
- `borderRadius: 24` → `borderRadius: layout.borderRadius.xl`
- `zIndex: 100` → `zIndex: layout.zIndex.overlay`

**Critical:** Preserve exact visual appearance. If a value doesn't have an exact constant match, keep it hardcoded and document why.
</action>
<verify>npm run lint passes, app launches, Camera screen looks identical</verify>
<done>CameraScreen uses design constants with no visual changes</done>
</task>

<task type="auto">
  <name>Task 2: Update DarkroomScreen.js with design constants</name>
  <files>lapse-clone-app/src/screens/DarkroomScreen.js</files>
  <action>
Add import at top:
```javascript
import { colors, typography, spacing, layout, animations } from '../constants';
```

**Note:** DarkroomScreen already has a local COLORS object - migrate it to use the centralized colors.

Replace the local COLORS object usage:

- `COLORS.text` → `colors.text.primary`
- `COLORS.textSecondary` → `colors.text.secondary`
- `COLORS.background` → `colors.background.secondary`
- `COLORS.cardBg` → `colors.background.tertiary`
- `COLORS.statusReady` → `colors.status.ready`
- `COLORS.statusDeveloping` → `colors.status.developing`

Then remove or comment out the local COLORS object definition.

**Typography:**

- Replace all fontSize values with typography.size.\*
- Replace all fontWeight values with typography.weight.\*

**Spacing:**

- Replace padding/margin values with spacing.\*

**Layout:**

- Replace borderRadius values with layout.borderRadius.\*

**Critical:** Preserve exact visual appearance. The darkroom has specific dark theme colors - ensure mappings are correct.
</action>
<verify>npm run lint passes, app launches, Darkroom screen looks identical</verify>
<done>DarkroomScreen uses design constants, local COLORS object removed</done>
</task>

<task type="auto">
  <name>Task 3: Update FeedScreen.js with design constants</name>
  <files>lapse-clone-app/src/screens/FeedScreen.js</files>
  <action>
Add import at top:
```javascript
import { colors, typography, spacing, layout } from '../constants';
```

Replace hardcoded values:

**Colors:**

- `'#000000'`, `'black'` → `colors.background.primary`
- `'#FFFFFF'`, `'white'` → `colors.text.primary` or `colors.background.white`
- `'#666666'` → `colors.text.tertiary`
- `'#E0E0E0'` → `colors.border.default`
- `'#FF3B30'` → `colors.system.iosRed`

**Typography:**

- Replace fontSize values (14, 16, 20, 24, etc.)
- Replace fontWeight values ('600', '700')

**Spacing:**

- Replace padding/margin values (8, 12, 16, 20, 24)

**Layout:**

- Replace borderRadius values
- Replace avatar size values with layout.dimensions.avatar\*

**Critical:** Feed screen shows friend photos - visual consistency is critical.
</action>
<verify>npm run lint passes, app launches, Feed screen looks identical</verify>
<done>FeedScreen uses design constants with no visual changes</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] All 3 screens import from '../constants'
- [ ] No local COLORS objects remain (migrated to centralized)
- [ ] `npm run lint` passes
- [ ] Visual spot check: Camera, Darkroom, Feed all look identical to before
</verification>

<success_criteria>

- CameraScreen, DarkroomScreen, FeedScreen all use centralized constants
- No visual regressions (exact same appearance)
- Local color objects removed in favor of centralized
- Ready for Plan 03 to update remaining files
  </success_criteria>

<output>
After completion, create `.planning/phases/21-global-constants/21-02-SUMMARY.md`
</output>
