---
phase: 18.2-rename-app-rewind
plan: 02
type: execute
---

<objective>
Implement camera iris aperture opening animation on app launch.

Purpose: Create a distinctive launch experience where circular camera aperture blades open from center, revealing the app - reinforcing the nostalgic camera/film identity.
Output: App launch shows iris animation opening like a real camera lens before showing main content.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./summary.md
~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/18.2-rename-app-rewind/18.2-CONTEXT.md
@.planning/phases/18.2-rename-app-rewind/18.2-01-SUMMARY.md

**Animation specification:**
- Camera iris/aperture blades opening from center
- Circular blades that rotate and spread outward (like a real camera lens aperture)
- Reveals the main app interface underneath
- Should feel like "stepping into a real photo experience"

**Tech stack:**
- react-native-reanimated ~3.16.1 (already installed)
- expo-splash-screen (already configured for animated splash)
- Current splash: Static shutter effect image

**Implementation approach:**
The iris animation replaces the current static splash. Use Reanimated for the aperture blade animations.
An iris aperture typically has 6-9 overlapping blades that rotate and scale outward.

**Key files:**
@App.js
@app.json
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create IrisAnimation component with aperture blades</name>
  <files>src/components/IrisAnimation.js</files>
  <action>
Create a camera iris aperture animation component using react-native-reanimated:

Structure:
- Container View covering full screen (black background)
- 6-8 aperture blade shapes (pie/wedge shapes) arranged in a circle
- Each blade is a triangular/curved shape that rotates and translates outward

Animation sequence:
1. Start: Blades closed (overlapping at center, covering screen)
2. Animate: Blades rotate outward and scale/translate away from center
3. End: Blades fully open revealing content beneath, then fade out container

Use Reanimated's:
- useSharedValue for animation progress (0 to 1)
- withTiming or withSpring for smooth animation
- interpolate for rotation and translation values
- Each blade gets slight rotation offset (360/numBlades degrees apart)

Props:
- onAnimationComplete: callback when iris fully open
- duration: animation duration (default 800ms)

The blades should be SVG paths or View transforms that create the aperture effect.
A simple approach: 6 pie-slice shapes arranged radially, each rotates outward by ~60 degrees.
  </action>
  <verify>Component file exists and exports IrisAnimation with onAnimationComplete prop</verify>
  <done>IrisAnimation component renders 6-8 aperture blades that animate open from center</done>
</task>

<task type="auto">
  <name>Task 2: Integrate iris animation as app launch screen</name>
  <files>App.js</files>
  <action>
Replace current splash screen handling with IrisAnimation:

1. Import IrisAnimation component
2. Add state to track if iris animation is complete: const [irisComplete, setIrisComplete] = useState(false)
3. Keep expo-splash-screen hidden initially (already using SplashScreen.preventAutoHideAsync())
4. On app mount, hide the native splash immediately: SplashScreen.hideAsync()
5. Render IrisAnimation overlay when !irisComplete
6. When IrisAnimation calls onAnimationComplete, setIrisComplete(true)
7. Once irisComplete, render the normal app content (AuthProvider, NavigationContainer, etc.)

The iris animation becomes the "splash" experience, replacing the static splash.png behavior.

Keep the AuthProvider and notification initialization - just wrap the NavigationContainer in a conditional that waits for iris to complete.

Remove references to the old animated splash if any (the shutter effect from Phase 13).
  </action>
  <verify>App launches, shows iris animation, then reveals main content</verify>
  <done>App launch shows iris aperture opening animation before main content appears</done>
</task>

<task type="auto">
  <name>Task 3: Update splash.png to simple black background</name>
  <files>assets/splash.png</files>
  <action>
Replace the current splash.png (shutter effect) with a simple black background:
- This is the native splash shown briefly before JS loads
- Should be solid black (#000000) to seamlessly transition to the iris animation
- The iris animation component uses black background, so this creates continuity

Generate a 2048x2048 solid black PNG for splash.png.
Keep splash-icon.png as-is (not used in current config).
  </action>
  <verify>splash.png is a solid black image</verify>
  <done>Native splash is black, providing seamless transition to iris animation</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Camera iris aperture opening animation on app launch</what-built>
  <how-to-verify>
    1. Run: npx expo start
    2. Open in Expo Go (or reload if already open)
    3. Watch the launch sequence:
       - Brief black screen (native splash)
       - Iris aperture blades animate open from center
       - Main app content revealed underneath
    4. Verify: Animation feels like a camera lens opening
    5. Verify: Animation completes smoothly (no stuttering)
    6. Verify: After animation, app functions normally
  </how-to-verify>
  <resume-signal>Type "approved" to complete Phase 18.2, or describe issues to fix</resume-signal>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] IrisAnimation component exists at src/components/IrisAnimation.js
- [ ] Component exported from src/components/index.js
- [ ] App.js integrates IrisAnimation as launch screen
- [ ] splash.png is solid black
- [ ] App launches with iris animation before showing content
- [ ] No errors in console during animation
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- Iris animation plays on every app launch
- Animation feels like real camera aperture opening
- Phase 18.2 complete (Rewind rebrand fully shipped)
</success_criteria>

<output>
After completion, create `.planning/phases/18.2-rename-app-rewind/18.2-02-SUMMARY.md`:

# Phase 18.2 Plan 02: Camera Iris Animation Summary

**[One-liner: what shipped]**

## Accomplishments

- [Key outcomes]

## Files Created/Modified

- [File list with descriptions]

## Decisions Made

- [Any decisions and rationale]

## Issues Encountered

- [Problems and resolutions, or "None"]

## Next Step

Phase 18.2 complete, ready for next phase (18.3: Success Sound Effect)
</output>
