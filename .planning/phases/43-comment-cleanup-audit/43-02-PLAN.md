---
phase: 43-comment-cleanup-audit
plan: 02
type: execute
---

<objective>
Audit and clean up comments in all hooks, utils, context, navigation, and App.js files.

Purpose: Hooks contain complex logic with explanatory comments that may have drifted. Utils and context files contain supporting logic. This plan ensures all comments in these files accurately describe current behavior.
Output: All comments in hooks/, utils/, context/, navigation/, and App.js are accurate, stale TODOs removed, noise eliminated.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./summary.md
~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/43-comment-cleanup-audit/43-CONTEXT.md
@.planning/phases/43-comment-cleanup-audit/43-01-SUMMARY.md

# Key source files (all files to audit):

@src/hooks/useCamera.js
@src/hooks/useComments.js
@src/hooks/useDarkroom.js
@src/hooks/useFeedPhotos.js
@src/hooks/usePhotoDetailModal.js
@src/hooks/useSwipeableCard.js
@src/hooks/useViewedStories.js
@src/utils/emojiRotation.js
@src/utils/logger.js
@src/utils/phoneUtils.js
@src/utils/soundUtils.js
@src/utils/timeUtils.js
@src/utils/validation.js
@src/context/AuthContext.js
@src/context/PhotoDetailContext.js
@src/context/ThemeContext.js
@src/context/index.js
@src/navigation/AppNavigator.js
@App.js

**Constraining rules:**

- NO code behavior changes — only touch comments, never change logic
- NO adding new documentation — don't add JSDoc or comments where none existed
- NO refactoring — if code is messy but works, leave it; only fix what comments say about it
- logger.js, ErrorBoundary.js, and useFeedPhotos.js were already audited in Plan 01 — skip re-auditing those files unless Plan 01 summary flags remaining issues
  </context>

<tasks>

<task type="auto">
  <name>Task 1: Audit hooks</name>
  <files>src/hooks/useCamera.js, src/hooks/useComments.js, src/hooks/useDarkroom.js, src/hooks/useFeedPhotos.js, src/hooks/usePhotoDetailModal.js, src/hooks/useSwipeableCard.js, src/hooks/useViewedStories.js</files>
  <action>
Read each hook file and audit every comment for accuracy, staleness, and noise.

**Note:** useFeedPhotos.js was partially audited in Plan 01 (the Phase 35 JSDoc reference was fixed). Still audit the rest of its comments here for completeness.

**For each file:**

1. Read the entire file
2. Identify every comment (single-line `//` and multi-line `/* */` including JSDoc `/** */`)
3. For each comment, assess:
   - **Accurate?** Does it truthfully describe what the code does right now? → Fix if not
   - **Stale?** Is it a TODO/FIXME/HACK that's been done or abandoned? → Remove
   - **Noise?** Does it just restate what the code obviously does? → Remove
   - **Phase/Week reference?** Does it reference a specific phase or week number for completed work? → Remove phase/week reference, keep only the functional description
4. Leave comments that explain "why", document business rules, describe workarounds, or explain complex logic

**Hooks often have comments explaining:**

- Why certain dependencies are in useEffect arrays
- Why refs are used instead of state (stale closure patterns)
- Complex timing/debounce logic
- Cleanup behavior

These "why" comments should be kept if they're accurate. Fix if they describe something the code no longer does.

**Files to audit:**

- useCamera.js
- useComments.js
- useDarkroom.js
- useFeedPhotos.js (remaining comments not covered by Plan 01)
- usePhotoDetailModal.js
- useSwipeableCard.js
- useViewedStories.js
  </action>
  <verify>

1. `npm run lint` passes
2. No stale TODO/FIXME comments in hook files
3. No phase/week references for completed work
4. No noise comments
5. All remaining comments accurately describe current behavior
6. No code behavior changed
   </verify>
   <done>All 7 hook files audited and cleaned. Comments accurately describe current behavior.</done>
   </task>

<task type="auto">
  <name>Task 2: Audit utils, context, navigation, and App.js</name>
  <files>src/utils/emojiRotation.js, src/utils/phoneUtils.js, src/utils/soundUtils.js, src/utils/timeUtils.js, src/utils/validation.js, src/context/AuthContext.js, src/context/PhotoDetailContext.js, src/context/ThemeContext.js, src/context/index.js, src/navigation/AppNavigator.js, App.js</files>
  <action>
Read each file and audit every comment for accuracy, staleness, and noise.

**Note:** logger.js was already fully audited in Plan 01 — skip it here.

**For each file:**

1. Read the entire file
2. Identify every comment
3. For each comment, assess:
   - **Accurate?** → Fix if not
   - **Stale?** → Remove TODOs/FIXMEs that are done
   - **Noise?** → Remove comments restating obvious code
   - **Phase reference?** → Remove phase numbers for completed phases, keep functional description
4. Leave "why" comments, business rules, and workaround explanations

**Files to audit:**

- emojiRotation.js
- phoneUtils.js
- soundUtils.js
- timeUtils.js
- validation.js
- AuthContext.js
- PhotoDetailContext.js
- ThemeContext.js
- context/index.js
- AppNavigator.js (known: has darkroom polling comment — verify it's still accurate)
- App.js
  </action>
  <verify>

1. `npm run lint` passes
2. No stale TODO/FIXME comments in audited files
3. No phase references for completed work
4. No noise comments
5. All remaining comments accurately describe current behavior
6. No code behavior changed
   </verify>
   <done>Utils (5 files), context (4 files), navigation (1 file), and App.js audited and cleaned. Comments accurately describe current behavior.</done>
   </task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run lint` passes
- [ ] All 7 hook files audited
- [ ] All 5 utils files audited (excluding logger.js — done in Plan 01)
- [ ] All 4 context files audited
- [ ] AppNavigator.js audited
- [ ] App.js audited
- [ ] No stale TODOs/FIXMEs remain
- [ ] No misleading phase/week references remain
- [ ] No noise comments remain
- [ ] All remaining comments are accurate
- [ ] Zero code behavior changes
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- No lint errors introduced
- Every comment in hooks/, utils/, context/, navigation/, and App.js is accurate
- All stale references removed
- No noise comments remain
- Zero code logic changes
  </success_criteria>

<output>
After completion, create `.planning/phases/43-comment-cleanup-audit/43-02-SUMMARY.md`
</output>
