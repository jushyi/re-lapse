---
phase: 43-comment-cleanup-audit
plan: 03
type: execute
---

<objective>
Audit and clean up comments in all component files.

Purpose: Components are the largest directory in the codebase with ~50 files. Many were built and modified across multiple phases, making comment drift likely. This plan audits every comment in components/ for accuracy, staleness, and noise.
Output: All comments in components/ are accurate, stale TODOs removed, noise eliminated.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./summary.md
~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/43-comment-cleanup-audit/43-CONTEXT.md
@.planning/phases/43-comment-cleanup-audit/43-01-SUMMARY.md
@.planning/phases/43-comment-cleanup-audit/43-02-SUMMARY.md

# Key source files (all files to audit):

## comments/ subdirectory:

@src/components/comments/CommentInput.js
@src/components/comments/CommentPreview.js
@src/components/comments/CommentRow.js
@src/components/comments/CommentsBottomSheet.js
@src/components/comments/CommentWithReplies.js
@src/components/comments/GifPicker.js
@src/components/comments/MentionText.js
@src/components/comments/index.js

## ProfileSong/ subdirectory:

@src/components/ProfileSong/ClipSelectionModal.js
@src/components/ProfileSong/ProfileSongCard.js
@src/components/ProfileSong/SongSearchResult.js
@src/components/ProfileSong/WaveformScrubber.js
@src/components/ProfileSong/index.js

## Top-level components A-F:

@src/components/AddFriendsPromptCard.js
@src/components/AddToAlbumSheet.js
@src/components/AlbumBar.js
@src/components/AlbumCard.js
@src/components/AlbumPhotoViewer.js
@src/components/AnimatedSplash.js
@src/components/AuthCodeInput.js
@src/components/Button.js
@src/components/Card.js
@src/components/DarkroomBottomSheet.js
@src/components/DeletionRecoveryModal.js
@src/components/DownloadProgress.js
@src/components/DropdownMenu.js
@src/components/ErrorBoundary.js
@src/components/FeedLoadingSkeleton.js
@src/components/FeedPhotoCard.js
@src/components/FriendCard.js
@src/components/FriendStoryCard.js
@src/components/FullscreenSelectsViewer.js

## Top-level components G-Z:

@src/components/InAppNotificationBanner.js
@src/components/Input.js
@src/components/MeStoryCard.js
@src/components/MonthlyAlbumCard.js
@src/components/MonthlyAlbumsSection.js
@src/components/PhotoDetailModal.js
@src/components/ReactionDisplay.js
@src/components/RenameAlbumModal.js
@src/components/SelectsBanner.js
@src/components/SelectsEditOverlay.js
@src/components/StepIndicator.js
@src/components/StoriesViewerModal.js
@src/components/SwipeablePhotoCard.js
@src/components/TagFriendsModal.js
@src/components/TaggedPeopleModal.js
@src/components/TakeFirstPhotoCard.js
@src/components/YearSection.js
@src/components/index.js

**Constraining rules:**

- NO code behavior changes — only touch comments, never change logic
- NO adding new documentation — don't add JSDoc or comments where none existed
- NO refactoring — if code is messy but works, leave it; only fix what comments say about it
- ErrorBoundary.js was already audited in Plan 01 — skip re-auditing unless Plan 01 summary flags remaining issues
  </context>

<tasks>

<task type="auto">
  <name>Task 1: Audit comments/ subdirectory, ProfileSong/ subdirectory, and components A-F</name>
  <files>src/components/comments/CommentInput.js, src/components/comments/CommentPreview.js, src/components/comments/CommentRow.js, src/components/comments/CommentsBottomSheet.js, src/components/comments/CommentWithReplies.js, src/components/comments/GifPicker.js, src/components/comments/MentionText.js, src/components/comments/index.js, src/components/ProfileSong/ClipSelectionModal.js, src/components/ProfileSong/ProfileSongCard.js, src/components/ProfileSong/SongSearchResult.js, src/components/ProfileSong/WaveformScrubber.js, src/components/ProfileSong/index.js, src/components/AddFriendsPromptCard.js, src/components/AddToAlbumSheet.js, src/components/AlbumBar.js, src/components/AlbumCard.js, src/components/AlbumPhotoViewer.js, src/components/AnimatedSplash.js, src/components/AuthCodeInput.js, src/components/Button.js, src/components/Card.js, src/components/DarkroomBottomSheet.js, src/components/DeletionRecoveryModal.js, src/components/DownloadProgress.js, src/components/DropdownMenu.js, src/components/ErrorBoundary.js, src/components/FeedLoadingSkeleton.js, src/components/FeedPhotoCard.js, src/components/FriendCard.js, src/components/FriendStoryCard.js, src/components/FullscreenSelectsViewer.js</files>
  <action>
Read each component file and audit every comment for accuracy, staleness, and noise.

**Note:** ErrorBoundary.js was audited in Plan 01 (stale Sentry TODO removed). Skip it here unless Plan 01 summary indicates remaining issues.

**For each file:**

1. Read the entire file
2. Identify every comment (single-line `//` and multi-line `/* */` including JSDoc `/** */`)
3. For each comment, assess:
   - **Accurate?** Does it truthfully describe what the code does right now? → Fix if not
   - **Stale?** Is it a TODO/FIXME/HACK that's been done or abandoned? → Remove
   - **Noise?** Does it just restate what the code obviously does? → Remove
   - **Phase/Week reference?** Does it reference a specific phase or week number for completed work? → Remove phase/week reference, keep functional description
4. Leave comments that explain "why", document business rules, describe workarounds, or explain complex UI behavior

**Components often have comments explaining:**

- Why certain props exist or are structured a certain way
- Animation timing rationale
- Platform-specific workarounds (iOS vs Android)
- Modal/navigation behavior edge cases
- Gesture handler configuration

These "why" comments should be kept if accurate. Fix if they describe something the code no longer does.

**Files to audit (32 files):**

- comments/: CommentInput, CommentPreview, CommentRow, CommentsBottomSheet, CommentWithReplies, GifPicker, MentionText, index
- ProfileSong/: ClipSelectionModal, ProfileSongCard, SongSearchResult, WaveformScrubber, index
- Top-level A-F: AddFriendsPromptCard, AddToAlbumSheet, AlbumBar, AlbumCard, AlbumPhotoViewer, AnimatedSplash, AuthCodeInput, Button, Card, DarkroomBottomSheet, DeletionRecoveryModal, DownloadProgress, DropdownMenu, (ErrorBoundary — skip if done), FeedLoadingSkeleton, FeedPhotoCard, FriendCard, FriendStoryCard, FullscreenSelectsViewer
  </action>
  <verify>

1. `npm run lint` passes
2. No stale TODO/FIXME comments in audited files
3. No phase/week references for completed work
4. No noise comments
5. All remaining comments accurately describe current behavior
6. No code behavior changed
   </verify>
   <done>Comments subdirectory (8 files), ProfileSong subdirectory (5 files), and components A-F (19 files) audited and cleaned.</done>
   </task>

<task type="auto">
  <name>Task 2: Audit remaining components G-Z</name>
  <files>src/components/InAppNotificationBanner.js, src/components/Input.js, src/components/MeStoryCard.js, src/components/MonthlyAlbumCard.js, src/components/MonthlyAlbumsSection.js, src/components/PhotoDetailModal.js, src/components/ReactionDisplay.js, src/components/RenameAlbumModal.js, src/components/SelectsBanner.js, src/components/SelectsEditOverlay.js, src/components/StepIndicator.js, src/components/StoriesViewerModal.js, src/components/SwipeablePhotoCard.js, src/components/TagFriendsModal.js, src/components/TaggedPeopleModal.js, src/components/TakeFirstPhotoCard.js, src/components/YearSection.js, src/components/index.js</files>
  <action>
Read each component file and audit every comment for accuracy, staleness, and noise.

**For each file:**

1. Read the entire file
2. Identify every comment
3. For each comment, assess:
   - **Accurate?** → Fix if not
   - **Stale?** → Remove TODOs/FIXMEs that are done
   - **Noise?** → Remove comments restating obvious code
   - **Phase reference?** → Remove phase numbers for completed phases, keep functional description
4. Leave "why" comments, business rules, and workaround explanations

**Files to audit (18 files):**

- InAppNotificationBanner
- Input
- MeStoryCard
- MonthlyAlbumCard
- MonthlyAlbumsSection
- PhotoDetailModal
- ReactionDisplay
- RenameAlbumModal
- SelectsBanner
- SelectsEditOverlay
- StepIndicator
- StoriesViewerModal
- SwipeablePhotoCard
- TagFriendsModal
- TaggedPeopleModal
- TakeFirstPhotoCard
- YearSection
- components/index.js
  </action>
  <verify>

1. `npm run lint` passes
2. No stale TODO/FIXME comments in audited files
3. No phase references for completed work
4. No noise comments
5. All remaining comments accurately describe current behavior
6. No code behavior changed
   </verify>
   <done>Remaining components G-Z (18 files) audited and cleaned. All component comments are now accurate.</done>
   </task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run lint` passes
- [ ] All 50 component files audited (minus ErrorBoundary if done in Plan 01)
- [ ] No stale TODOs/FIXMEs remain in components/
- [ ] No misleading phase/week references remain
- [ ] No noise comments remain
- [ ] All remaining comments accurately describe code behavior
- [ ] Zero code behavior changes
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- No lint errors introduced
- Every comment in components/ is accurate
- All stale references removed
- No noise comments remain
- Zero code logic changes
  </success_criteria>

<output>
After completion, create `.planning/phases/43-comment-cleanup-audit/43-03-SUMMARY.md`
</output>
