# Phase 7.1: Full Song Music Integration - Context

**Gathered:** 2026-01-28
**Status:** Ready for research

<vision>
## How This Should Work

Users who link their Spotify or Apple Music accounts unlock the ability to scrub through entire songs when selecting a profile song clip. The experience mirrors Instagram's waveform-style clip selection — a full scrollable waveform where you can drag to find exactly the part of the song you want.

Everyone sees the same search and preview experience. The difference only appears in clip selection: linked users see the full song waveform, while unlinked users see the current 30-second iTunes preview waveform.

Account linking happens in two places: a "Connected Accounts" section in Settings for proactive management, and an inline prompt that appears when opening the song search screen for discovery.

If a user has both Spotify and Apple Music linked, Spotify takes priority. If they later disconnect their account, their profile song stays but the clip resets to the iTunes 30-second preview range of that same song.

</vision>

<essential>
## What Must Be Nailed

All three are equally critical:

- **Full song scrubbing experience** — The waveform UI and clip selection must feel smooth and intuitive, similar to Instagram's approach
- **Seamless account linking** — Connecting Spotify/Apple Music should feel effortless, not a friction point
- **Graceful fallback** — Users without linked accounts still have a good experience with iTunes 30s previews

</essential>

<boundaries>
## What's Out of Scope

- **Other music services** — No YouTube Music, Tidal, Amazon Music, etc. Just Spotify and Apple Music for now
- **Music player features** — No playlist creation, song saving, or playback beyond profile song selection. This is purely for selecting your profile song clip.

</boundaries>

<specifics>
## Specific Ideas

- Full scrollable waveform similar to Instagram's clip selection UI
- Keep current clip length customization — users drag either end of the selection to set clip bounds (5-second minimum gap preserved)
- Inline prompt appears right when opening song search screen, before browsing
- Match current app aesthetic: dark theme, purple accents, consistent with existing profile song card
- Spotify priority when both services are linked
- Build both Spotify and Apple Music support together (ship simultaneously)
- On disconnect: song stays, clip resets to iTunes 30s preview range

</specifics>

<notes>
## Additional Context

**Technical decision for research:** Unsure whether to search through Spotify/Apple Music catalogs directly for linked users, or keep iTunes search and just stream from linked service for clip selection. This affects catalog availability (explicit versions, regional exclusives) vs implementation simplicity.

**Background:** User initially asked how Instagram does this without account linking. Research revealed Instagram/Meta has direct licensing deals with labels (multi-million dollar arrangements). For an independent app, Spotify/Apple Music integration is the realistic path to full song access.

</notes>

---

_Phase: 07.1-full-song-integration_
_Context gathered: 2026-01-28_
