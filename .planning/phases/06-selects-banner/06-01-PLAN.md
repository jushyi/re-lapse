---
phase: 06-selects-banner
plan: 01
type: execute
---

<objective>
Build the SelectsBanner component with auto-playing slideshow and hold-to-pause interaction.

Purpose: Display user's highlight photos in an engaging auto-cycling banner at the top of the profile screen.
Output: Working SelectsBanner component integrated into ProfileScreen with auto-play, hold-to-pause, and empty states.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/06-selects-banner/06-CONTEXT.md
@.planning/phases/05-profile-screen-layout/05-02-SUMMARY.md

# Key files for this plan:

@src/screens/ProfileScreen.js
@src/context/AuthContext.js
@src/constants/colors.js

**Tech stack available:** react-native-reanimated, react-native-gesture-handler (from Phase 4 drag-reorder)
**Established patterns:**

- GestureDetector for touch handling (SelectsScreen drag gestures)
- useAnimatedStyle for Reanimated animations
- isOwnProfile pattern for conditional rendering (ProfileScreen)

**From 06-CONTEXT.md:**

- 1-2 second timing per photo, instant cuts (no transitions)
- Hold-to-pause anywhere on banner
- Own profile empty: camera icon with "Tap to add highlights"
- Other profile empty: sad icon with "This user has no highlights"
  </context>

<tasks>

<task type="auto">
  <name>Task 1: Create SelectsBanner component with auto-play</name>
  <files>src/components/SelectsBanner.js</files>
  <action>
Create SelectsBanner component that:

1. **Props:** `selects` (array of URIs), `isOwnProfile` (boolean), `onTap` (callback for tap handling)

2. **Auto-play logic:**
   - Use useEffect with setInterval at 1500ms (1.5s per photo)
   - Track currentIndex with useState, cycle through selects array
   - Clear interval on unmount and when paused

3. **Hold-to-pause:**
   - Use GestureDetector with Gesture.LongPress() that activates immediately (minDuration: 0)
   - On gesture begin: set isPaused state, clear interval
   - On gesture end: resume auto-play by restarting interval
   - Visual feedback: slight dim (opacity 0.9) when paused

4. **Tap handling:**
   - Use Gesture.Tap() to detect single taps
   - Call onTap prop when tapped (parent handles fullscreen/edit mode logic)
   - Compose with Gesture.Simultaneous() or Gesture.Race() to allow both tap and long press

5. **Image display:**
   - Render Image with current photo URI
   - Match existing selectsBanner dimensions (250px height, borderRadius 8)
   - No transitions - instant cut between photos
   - Use resizeMode="cover"

6. **Empty state rendering:**
   - If selects array empty and isOwnProfile: camera-outline icon + "Tap to add highlights"
   - If selects array empty and !isOwnProfile: sad-outline icon + "This user has no highlights"
   - Style empty states like existing placeholder (dashed border, centered content)

Avoid: Complex transition animations, progress indicators, swipe gestures. Keep it simple - instant cuts only.
</action>
<verify>Component renders without errors when imported. TypeScript/lint passes if applicable.</verify>
<done>SelectsBanner component exists with auto-play cycling, hold-to-pause gesture, tap callback, and empty state variants.</done>
</task>

<task type="auto">
  <name>Task 2: Integrate SelectsBanner into ProfileScreen</name>
  <files>src/screens/ProfileScreen.js</files>
  <action>
Replace the placeholder selects banner with the new SelectsBanner component:

1. **Import:** Add SelectsBanner from '../components/SelectsBanner'

2. **Get selects data:**
   - For own profile: Use userProfile.selects (array of URIs from AuthContext)
   - For other profile: Use profileData.selects (from placeholder data for now)

3. **Replace placeholder:**
   - Remove the View with "Selects" text placeholder
   - Add SelectsBanner with props:
     - selects={profileData?.selects || []}
     - isOwnProfile={isOwnProfile}
     - onTap={handleSelectsTap}

4. **Add tap handler stub:**
   - Create handleSelectsTap function that logs "SelectsBanner tapped" + isOwnProfile
   - Actual navigation to fullscreen/edit handled in Plan 06-02

5. **Keep existing layout:**
   - Maintain same marginTop calculation (insets.top + HEADER_HEIGHT + 16)
   - Keep marginHorizontal: 16 for consistent spacing

Avoid: Implementing fullscreen or edit navigation in this plan. Just wire up the component with a stub handler.
</action>
<verify>npm start (Expo) - profile screen loads, banner cycles through photos if user has selects, shows empty state otherwise</verify>
<done>ProfileScreen displays SelectsBanner with auto-play for users with selects, appropriate empty state for users without.</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>SelectsBanner component with auto-playing slideshow and hold-to-pause interaction</what-built>
  <how-to-verify>
    1. Run: npx expo start
    2. Log in with an account that has selects set up
    3. Navigate to Profile tab
    4. Verify: Photos cycle automatically every 1-2 seconds
    5. Verify: Press and HOLD on banner - cycling pauses
    6. Verify: Release hold - cycling resumes
    7. Verify: Tap on banner - console logs "SelectsBanner tapped"
    8. Log out and create new account (or check other user profile if available)
    9. Verify empty state shows camera icon with "Tap to add highlights"
  </how-to-verify>
  <resume-signal>Type "approved" to continue, or describe issues to fix</resume-signal>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] SelectsBanner component created in src/components/
- [ ] Auto-play cycles through photos at ~1.5s intervals
- [ ] Hold gesture pauses cycling, release resumes
- [ ] Tap triggers onTap callback
- [ ] Empty state renders correctly for own vs other profile
- [ ] No console errors or warnings
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- SelectsBanner displays and cycles correctly
- Hold-to-pause interaction works smoothly
- Ready for Plan 06-02 (fullscreen + edit mode)
  </success_criteria>

<output>
After completion, create `.planning/phases/06-selects-banner/06-01-SUMMARY.md`
</output>
