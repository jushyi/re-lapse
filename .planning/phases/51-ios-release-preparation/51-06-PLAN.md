---
phase: 51-ios-release-preparation
plan: 06
type: execute
---

<objective>
Switch Giphy from development API key to production key and add any required attribution per Giphy SDK guidelines.

Purpose: Giphy development keys have rate limits and are not approved for published apps. Production apps must use a production key and display required attribution.
Output: Production Giphy key configured, attribution added where required.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./summary.md
~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/51-ios-release-preparation/51-CONTEXT.md

@.env
@src/components/comments/GifPicker.js
@src/components/comments/CommentInput.js
@App.js

**Current Giphy integration:**

- `.env` has `GIPHY_API_KEY=rCkh8CHn02xlka96pBDVdw3McCnzNq7K` (dev key)
- `App.js` line 28-31: `initializeGiphy(GIPHY_API_KEY)` at startup
- `GifPicker.js`: Uses `GiphyDialog` with GIFs and Stickers, fixed_height format
- `CommentInput.js`: GIF button triggers picker, selected GIF URL stored in comments
- Package: `@giphy/react-native-sdk ^5.0.1`

**Giphy production requirements:**

- Register app at https://developers.giphy.com/ for production API key
- Production apps must display "Powered by GIPHY" attribution
- The @giphy/react-native-sdk GiphyDialog already includes Giphy branding in the dialog itself
- Additional attribution may be needed where GIFs are displayed inline (comment rows)
  </context>

<tasks>

<task type="checkpoint:human-action" gate="blocking">
  <action>Create Giphy production app and get production API key</action>
  <instructions>
    1. Go to https://developers.giphy.com/dashboard/
    2. Log in or create an account
    3. Click "Create an App" → Select "SDK" (not API)
    4. App name: "Flick"
    5. Description: "Photo-sharing social app with GIF reactions in comments"
    6. Accept terms
    7. Copy the production API key

    After creating, provide the production API key.

  </instructions>
  <verification>New API key is different from the dev key in .env</verification>
  <resume-signal>Provide the production Giphy API key</resume-signal>
</task>

<task type="auto">
  <name>Task 2: Update Giphy API key and add attribution</name>
  <files>.env, src/components/comments/CommentRow.js</files>
  <action>
**Update .env:**
Replace the dev GIPHY_API_KEY with the production key provided in the checkpoint.

**Check Giphy attribution requirements:**
The `@giphy/react-native-sdk` GiphyDialog component already includes the "Powered by GIPHY" watermark in the GIF picker dialog. However, Giphy's terms require attribution wherever GIFs are displayed outside the SDK dialog.

Check `CommentRow.js` (or wherever GIF comments are rendered inline). If GIFs are displayed as images in the comment list, add a small "GIF" badge or "via GIPHY" text near inline GIF displays. This satisfies Giphy's attribution requirement for content displayed outside their SDK components.

The attribution should be subtle — a small "GIF" label overlaid on the bottom-right of the GIF image, using the app's existing styling (small text, semi-transparent background). Do NOT add a full "Powered by GIPHY" banner — the SDK dialog already handles that. The inline badge just needs to indicate the content source.

If GIFs are already rendered with some kind of indicator, verify it meets Giphy's requirements and skip adding more.
</action>
<verify>Run `grep "GIPHY_API_KEY" .env` shows the new production key. Check that GIF displays in comments have attribution.</verify>
<done>Production Giphy API key configured. GIF attribution present where GIFs display inline.</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `.env` has production Giphy API key (different from dev key)
- [ ] GIF picker dialog works with production key
- [ ] GIF attribution visible where GIFs display inline in comments
- [ ] No hardcoded API keys in source code (all via .env)
</verification>

<success_criteria>

- Production Giphy API key active
- Giphy attribution requirements met
- GIF functionality unchanged (picker works, GIFs display in comments)
  </success_criteria>

<output>
After completion, create `.planning/phases/51-ios-release-preparation/51-06-SUMMARY.md`
</output>
