---
phase: 30-rewind-rebrand
plan: 05
type: execute
---

<objective>
Apply Rewind gradient treatment to darkroom components - purple-heavy for developing, pink-heavy for revealed.

Purpose: Visual storytelling where color tells the user what state their photos are in.
Output: DarkroomBottomSheet and related components use design tokens with meaningful gradient differentiation.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./summary.md
~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/30-rewind-rebrand/30-CONTEXT.md
@src/components/DarkroomBottomSheet.js
@src/styles/DarkroomScreen.styles.js
@src/constants/colors.js

**Current DarkroomBottomSheet.js COLORS:**

- buttonGradientStart: '#4C1D95' (dark purple)
- buttonGradientEnd: '#7C3AED' (lighter purple)
- fillGradientStart: '#6B21A8'
- fillGradientEnd: '#A855F7'

These are already close to the Rewind palette but are hardcoded, not using design tokens.

**Target from CONTEXT.md:**

- Developing photos: purple-heavy gradient (mostly purple, some pink)
- Revealed photos: pink-heavy gradient (mostly pink, some purple)
- "Color tells a story in the darkroom: purple = anticipation, pink = payoff"

**Note:** expo-linear-gradient may not be installed. The current DarkroomBottomSheet uses solid colors with a comment "Gradients require expo-linear-gradient rebuild." Plan should either:

1. Use solid color approximations (current approach, simpler)
2. Install expo-linear-gradient and use actual gradients

For this plan, we'll use the design tokens with solid colors, matching current pattern.
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update DarkroomBottomSheet to use design tokens</name>
  <files>src/components/DarkroomBottomSheet.js</files>
  <action>
Replace hardcoded colors with design tokens:

1. Add import at top:

   ```javascript
   import { colors } from '../constants/colors';
   ```

2. Replace the local COLORS object to use design tokens:

   ```javascript
   const COLORS = {
     sheetBackground: colors.background.secondary, // '#1A1A1A'
     textPrimary: colors.text.primary, // '#FFFFFF'
     textSecondary: colors.text.secondary, // '#888888'
     statusReady: colors.status.ready, // '#22C55E'
     statusDeveloping: colors.status.developing, // '#EF4444'
     cardBackground: colors.background.tertiary, // '#2A2A2A'
     cardBorder: 'rgba(255, 255, 255, 0.3)', // Keep as-is
     // Gradient colors from design tokens
     buttonGradientStart: colors.brand.gradient.button[0], // '#4C1D95'
     buttonGradientEnd: colors.brand.gradient.button[1], // '#7C3AED'
     fillGradientStart: colors.brand.gradient.fill[0], // '#6B21A8'
     fillGradientEnd: colors.brand.gradient.fill[1], // '#A855F7'
   };
   ```

3. The hold button should use the revealed gradient colors (pink-heavy) since pressing it reveals photos:
   - Update holdButtonBase backgroundColor to use a pink-leaning color
   - Update fillOverlay to use the revealed gradient

   Specifically:

   ```javascript
   // In COLORS:
   buttonBase: colors.brand.gradient.revealed[0],      // '#A855F7' (lighter purple)
   buttonFill: colors.brand.gradient.revealed[1],      // '#F472B6' (pink)
   ```

4. Update the holdButtonBase style to use the new buttonBase color.

5. Update the fillOverlay background color to use buttonFill.

This creates the effect: base button is purple-ish, fill animation sweeps pink across it = "anticipation to payoff".
</action>
<verify>
grep -E "(colors\.|brand\.gradient)" src/components/DarkroomBottomSheet.js
</verify>
<done>DarkroomBottomSheet uses design tokens from colors.js, no hardcoded color values</done>
</task>

<task type="auto">
  <name>Task 2: Update DarkroomScreen styles for brand consistency</name>
  <files>src/styles/DarkroomScreen.styles.js</files>
  <action>
Update DarkroomScreen.styles.js to use design tokens:

1. Add import at top:

   ```javascript
   import { colors } from '../constants/colors';
   ```

2. Replace hardcoded colors:
   - container.backgroundColor: '#000000' → colors.background.primary
   - loadingText.color: '#CCCCCC' → colors.text.secondary
   - emptyTitle.color: '#FFFFFF' → colors.text.primary
   - emptyText.color: '#CCCCCC' → colors.text.secondary
   - header border: 'rgba(255, 255, 255, 0.1)' → colors.overlay.light
   - backButton.backgroundColor: 'rgba(255, 255, 255, 0.1)' → colors.overlay.light
   - headerTitle.color: '#FFFFFF' → colors.text.primary
   - headerSubtitle.color: '#CCCCCC' → colors.text.secondary
   - photoCardContainer.backgroundColor: '#000000' → colors.background.primary
   - successContainer.backgroundColor: '#000000' → colors.background.primary
   - successTitle.color: '#FFFFFF' → colors.text.primary
   - doneButtonText.color: '#FFFFFF' → colors.text.primary

3. Keep functional colors as-is (they serve specific purposes):
   - archiveButton: '#8E8E93' (iOS gray)
   - deleteButton: '#FF3B30' (iOS red) or colors.status.danger
   - journalButton: '#34C759' (iOS green) or colors.status.ready
   - doneButtonBottom: '#007AFF' (iOS blue) or colors.system.blue

4. Update chevron and undo button colors to use colors.text.primary.
   </action>
   <verify>
   grep -E "(colors\.|background\.primary|text\.primary)" src/styles/DarkroomScreen.styles.js
   </verify>
   <done>DarkroomScreen.styles.js uses design tokens, consistent with brand system</done>
   </task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Darkroom components using Rewind design tokens with gradient storytelling (purple anticipation → pink payoff)</what-built>
  <how-to-verify>
    1. Run: npx expo start
    2. Open the app and navigate to have photos in darkroom
    3. Open the darkroom bottom sheet (tap darkroom button on camera)
    4. Verify:
       - Sheet background is dark (#1A1A1A)
       - Text colors are correct (white primary, gray secondary)
       - Status dot is green (ready) or red (developing)
       - "Hold to reveal" button has purple/pink coloring
       - When pressing and holding, the fill animation sweeps pink across
    5. Complete a reveal and verify the darkroom screen colors:
       - Dark background
       - White text
       - Triage buttons (Archive gray, Delete red, Journal green)
    6. Confirm the color transition tells a story: purple = waiting, pink = revealed/success
  </how-to-verify>
  <resume-signal>Type "approved" if colors look correct and tell the right story, or describe what needs adjustment</resume-signal>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] DarkroomBottomSheet.js imports from constants/colors.js
- [ ] DarkroomScreen.styles.js imports from constants/colors.js
- [ ] No hardcoded hex colors remain (except functional iOS colors)
- [ ] Hold button shows purple → pink fill animation
- [ ] No syntax errors: `npx eslint src/components/DarkroomBottomSheet.js src/styles/DarkroomScreen.styles.js --no-warn-ignored`
- [ ] Human verification confirms visual appearance
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- No ESLint errors
- Color system tells the "anticipation → payoff" story
- Phase 30 complete - Rewind rebrand shipped
  </success_criteria>

<output>
After completion, create `.planning/phases/30-rewind-rebrand/30-05-SUMMARY.md` with:
- Summary of brand transition
- All files modified across the 5 plans
- Color system documentation
- Phase 30 complete status
</output>
