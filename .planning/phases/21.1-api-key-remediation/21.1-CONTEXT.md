# Phase 21.1: API Key Exposure Remediation - Context

**Gathered:** 2026-01-24
**Status:** Ready for research

<vision>
## How This Should Work

A full history scrub that completely removes GoogleService-Info.plist from all git history. No trace of the file should exist anywhere — thorough over fast. The exposed keys have been rotated in Firebase Console, but the old keys still sit in git history on a public GitHub repo.

Once the history is clean, update the app with the new GoogleService-Info.plist so it functions correctly with the rotated keys.

</vision>

<essential>
## What Must Be Nailed

- **Complete removal from git history** — No trace of the sensitive file should exist anywhere in git history, not just the current HEAD
- **App functionality restored** — After cleanup, the app must work with the new rotated keys (updated GoogleService-Info.plist)
- **Future prevention** — Proper .gitignore rules to ensure this can never happen again

</essential>

<boundaries>
## What's Out of Scope

- No specific exclusions — whatever it takes to fully remediate
- Key rotation itself is already done (this phase is about git cleanup + app update)

</boundaries>

<specifics>
## Specific Ideas

No specific requirements — open to standard approaches (BFG Repo Cleaner, git filter-branch, etc.)

</specifics>

<notes>
## Additional Context

This is marked URGENT — security incident response. The file was pushed to a public GitHub repository. Keys have been rotated but remediation of git history is still needed.

User wants to preserve commit history structure where possible — just remove the sensitive file, not rewrite everything.

</notes>

---

_Phase: 21.1-api-key-remediation_
_Context gathered: 2026-01-24_
