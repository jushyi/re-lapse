---
phase: 05-profile-screen-layout
plan: 01
type: execute
---

<objective>
Build core profile screen layout with header navigation and all visual sections.

Purpose: Create the foundational profile layout that all future profile features (Selects animation, profile song, albums) will plug into.
Output: Working ProfileScreen with header (Friends/username/Settings), Selects banner placeholder, overlapping profile photo, profile info section, and future feature placeholders.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./summary.md
~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/05-profile-screen-layout/05-CONTEXT.md

# Codebase context

@.planning/codebase/CONVENTIONS.md
@.planning/codebase/STRUCTURE.md

# Key files

@src/screens/ProfileScreen.js
@src/screens/FeedScreen.js (lines 617-745 - header pattern reference)
@src/constants/colors.js
@src/context/AuthContext.js (provides userProfile with displayName, username, photoURL, bio, selects)

**Tech stack available:** React Native, Expo, SafeAreaView, Ionicons, colors.js constants
**Established patterns:** 3-column header (FeedScreen), ScrollView layouts, colors.js usage
**Constraining decisions:**

- Use colors.js constants throughout (no hardcoded hex values)
- Profile photo ~80px, overlapping Selects banner and info section
- Placeholders with bordered/shaded empty containers and labels
  </context>

<tasks>

<task type="auto">
  <name>Task 1: Profile header with 3-column navigation</name>
  <files>src/screens/ProfileScreen.js</files>
  <action>
Redesign the ProfileScreen header to match the Feed header pattern but with different icons:
- Left: Friends icon (people-outline) → navigates to FriendsList (existing)
- Center: User's username in bold (from userProfile.username via AuthContext)
- Right: Settings icon (settings-outline) → navigates to Settings (existing in ProfileStackNavigator)

Header styling:

- Use SafeAreaView with edges={['top']}
- Position: absolute, full width, zIndex: 10
- Background: colors.background.primary (#0F0F0F)
- Border bottom: 1px colors.border.subtle
- Padding: 16px horizontal, 12px vertical
- flexDirection: 'row', justifyContent: 'space-between', alignItems: 'center'
- Username: fontSize 20, fontWeight 'bold', colors.text.primary
- Icons: size 24, colors.text.primary, wrapped in TouchableOpacity with padding 8

Import Ionicons from @expo/vector-icons. Remove the existing basic header structure.
</action>
<verify>App launches without errors, header displays username in center with Friends/Settings icons on left/right</verify>
<done>Header shows Friends icon (left), username (center), Settings icon (right) with proper navigation</done>
</task>

<task type="auto">
  <name>Task 2: Scrollable profile layout with sections</name>
  <files>src/screens/ProfileScreen.js</files>
  <action>
Replace the current content View with a ScrollView containing these sections (all scrolling together):

**1. Selects Banner Placeholder** (~1/3 of screen height, ~250px)

- Container: height 250, backgroundColor colors.background.secondary, borderRadius 8
- Centered text: "Selects" in colors.text.secondary, fontSize 16
- Border: 1px dashed colors.border.subtle (use borderStyle: 'dashed')
- marginHorizontal: 16, marginTop: HEADER_HEIGHT (define as 56)

**2. Profile Photo (overlapping)**

- Circular Image, width/height 80px, borderRadius 40
- Border: 3px solid colors.background.primary (creates separation effect)
- Position: absolute or negative marginTop to overlap ~40px onto Selects banner
- alignSelf: 'center'
- Use userProfile.photoURL if available, otherwise show placeholder with Ionicons person icon
- Wrap in View for proper positioning

**3. Profile Info Section**

- Container: paddingTop 50 (to account for overlapping photo), paddingHorizontal 16, alignItems 'center'
- Display name: fontSize 22, fontWeight 'bold', colors.text.primary, marginTop 8
- Username row: horizontal View with username (@-prefixed) and edit icon
  - Username: fontSize 16, colors.text.secondary
  - Edit icon: Ionicons 'create-outline', size 16, colors.text.secondary, marginLeft 8
  - TouchableOpacity on edit icon → log 'Edit profile pressed' (navigation to edit screen is future)
- Bio: fontSize 14, colors.text.secondary, marginTop 8, textAlign 'center', maxWidth 280
  - If no bio, show "No bio yet" in italic

**4. Future Feature Placeholders** (stacked below profile info)
Each placeholder: marginHorizontal 16, marginTop 16, padding 20, backgroundColor colors.background.tertiary, borderRadius 8, alignItems 'center'

- "Profile Song" placeholder - height 60
- "Albums" placeholder - height 80
- "Monthly Albums" placeholder - height 80

Add paddingBottom: 120 to ScrollView contentContainerStyle for tab bar clearance.

Use userProfile from AuthContext (already imported via useAuth hook). Handle loading state if userProfile is null.
</action>
<verify>Scroll through profile showing all sections, placeholders display correctly, profile data renders from AuthContext</verify>
<done>ScrollView shows Selects placeholder, overlapping profile photo, info section (name, username, bio, edit icon), and 3 future feature placeholders</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Complete profile screen layout with header navigation and all sections</what-built>
  <how-to-verify>
    1. Run: npx expo start (if not running)
    2. Navigate to Profile tab
    3. Verify header: Friends icon (left), your username (center), Settings icon (right)
    4. Tap Friends icon → should navigate to FriendsList screen
    5. Tap Settings icon → should navigate to Settings screen
    6. Verify layout sections (scroll to see all):
       - Selects banner placeholder (~1/3 screen, labeled "Selects")
       - Profile photo overlapping (half on Selects, half on info section)
       - Display name, @username with edit icon, bio
       - Three placeholders: Profile Song, Albums, Monthly Albums
    7. Verify colors match dark theme (near-black background, white text)
    8. Verify scrolling works smoothly with all content
  </how-to-verify>
  <resume-signal>Type "approved" to continue to next plan, or describe issues to fix</resume-signal>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] App runs without errors (`npx expo start`)
- [ ] Header displays correctly with working navigation
- [ ] All profile sections render with proper styling
- [ ] Profile data (name, username, bio) loads from AuthContext
- [ ] Scrolling works with proper tab bar clearance
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- No errors or warnings introduced
- Profile screen displays complete layout with header and all sections
- Navigation to Friends and Settings works
  </success_criteria>

<output>
After completion, create `.planning/phases/05-profile-screen-layout/05-01-SUMMARY.md`
</output>
