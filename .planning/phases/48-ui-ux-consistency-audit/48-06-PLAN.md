---
phase: 48-ui-ux-consistency-audit
plan: 06
type: execute
---

<objective>
Audit and fix feed, camera, and core screens and components for UI/UX consistency.

Purpose: While primary screens are likely already solid, ensure feed cards, story viewers, photo detail modals, camera/darkroom UI, and dropdown menus all use consistent design system constants.
Output: All core screens and components using constants consistently, matching established dark theme.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./summary.md
~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/48-ui-ux-consistency-audit/48-CONTEXT.md
@.planning/phases/48-ui-ux-consistency-audit/48-05-SUMMARY.md

# Design system references:

@src/constants/colors.js
@src/constants/spacing.js
@src/constants/typography.js
@src/constants/layout.js

# Screens to audit:

@src/screens/FeedScreen.js
@src/screens/CameraScreen.js
@src/screens/DarkroomScreen.js
@src/screens/PhotoDetailScreen.js

# Style files:

@src/styles/FeedPhotoCard.styles.js
@src/styles/SwipeablePhotoCard.styles.js
@src/styles/PhotoDetailModal.styles.js
@src/styles/PhotoDetailScreen.styles.js
@src/styles/CameraScreen.styles.js
@src/styles/DarkroomScreen.styles.js

# Components to audit:

@src/components/FeedPhotoCard.js
@src/components/SwipeablePhotoCard.js
@src/components/PhotoDetailModal.js
@src/components/StoriesViewerModal.js
@src/components/FeedLoadingSkeleton.js
@src/components/MeStoryCard.js
@src/components/FriendStoryCard.js
@src/components/DarkroomBottomSheet.js
@src/components/ReactionDisplay.js
@src/components/TakeFirstPhotoCard.js
@src/components/DropdownMenu.js
@src/components/DownloadProgress.js

**Audit checklist per file:**

1. No hardcoded hex/rgb/rgba color values — use colors.\*
2. No hardcoded numeric padding/margin — use spacing.\*
3. No hardcoded font families — use typography.fontFamily.\*
4. No hardcoded font sizes — use typography.size.\*
5. No hardcoded border radius — use layout.borderRadius.\*
6. No hardcoded dimensions — use layout.dimensions.\*
7. Consistent modal overlays, card patterns, reaction displays
   </context>

<tasks>

<task type="auto">
  <name>Task 1: Audit and fix core screens (FeedScreen, CameraScreen, DarkroomScreen, PhotoDetailScreen)</name>
  <files>src/screens/FeedScreen.js, src/screens/CameraScreen.js, src/screens/DarkroomScreen.js, src/screens/PhotoDetailScreen.js, src/styles/CameraScreen.styles.js, src/styles/DarkroomScreen.styles.js, src/styles/PhotoDetailScreen.styles.js</files>
  <action>
Read each screen and style file. Apply the full audit checklist:
1. Replace hardcoded colors → colors.* constants
2. Replace hardcoded spacing → spacing.* constants
3. Replace hardcoded fonts → typography.* constants
4. Replace hardcoded borderRadius → layout.borderRadius.*
5. Replace hardcoded dimensions → layout.dimensions.*

These are primary screens that are likely already well-styled. Focus on:

- Any hardcoded values that may have been introduced in phases after Phase 16
- Consistency between FeedScreen header and other screen headers
- PhotoDetailScreen controls (share, download, comment, react) using consistent icon colors and sizing
- CameraScreen controls matching the dark aesthetic
- DarkroomScreen reveal button and timer using consistent styling

Note: CameraScreen and DarkroomScreen may have SVG stop colors that are legitimately hardcoded (SVG compatibility) — leave those as-is per Phase 16-04 precedent.

Do NOT change layouts or functionality. Only standardize to constants.
</action>
<verify>npx expo lint passes, no import errors</verify>
<done>FeedScreen, CameraScreen, DarkroomScreen, PhotoDetailScreen all use design system constants — any post-Phase-16 hardcoded values replaced</done>
</task>

<task type="auto">
  <name>Task 2: Audit and fix core components (FeedPhotoCard, StoriesViewerModal, PhotoDetailModal, DarkroomBottomSheet, DropdownMenu, and related)</name>
  <files>src/components/FeedPhotoCard.js, src/components/SwipeablePhotoCard.js, src/components/PhotoDetailModal.js, src/components/StoriesViewerModal.js, src/components/FeedLoadingSkeleton.js, src/components/MeStoryCard.js, src/components/FriendStoryCard.js, src/components/DarkroomBottomSheet.js, src/components/ReactionDisplay.js, src/components/TakeFirstPhotoCard.js, src/components/DropdownMenu.js, src/components/DownloadProgress.js, src/styles/FeedPhotoCard.styles.js, src/styles/SwipeablePhotoCard.styles.js, src/styles/PhotoDetailModal.styles.js</files>
  <action>
Read each component and style file. Apply the full audit checklist.

Specific checks:

- FeedPhotoCard/SwipeablePhotoCard: Card background, text colors, reaction area styling should match
- PhotoDetailModal: Overlay should use colors.overlay.dark, controls should match PhotoDetailScreen
- StoriesViewerModal: Progress bar colors, close button, username text should use constants
- FeedLoadingSkeleton: Skeleton colors should use colors.background.tertiary for shimmer
- MeStoryCard/FriendStoryCard: Ring colors (viewed/unviewed), avatar size, text should be consistent with each other
- DarkroomBottomSheet: Sheet background colors.background.secondary, consistent button styling
- ReactionDisplay: Emoji pill backgrounds (colors.pill.background, colors.pill.border), count text styling
- DropdownMenu: Menu background, item text, separator colors should use constants
- DownloadProgress: Progress indicator colors should use colors.interactive.primary or similar

Ensure story cards (MeStoryCard, FriendStoryCard) are visually consistent with each other.
</action>
<verify>npx expo lint passes, no import errors</verify>
<done>All 12 core components use design system constants with consistent overlay, card, reaction, and menu patterns</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Standardized all feed, camera, and core screens and components to use design system constants. Ensured consistent modal overlays, card patterns, story cards, reaction displays, and dropdown menus.</what-built>
  <how-to-verify>
    1. Run: npx expo start
    2. Check Feed screen — photo cards, reactions, loading skeleton
    3. Tap a story — check stories viewer (progress bar, username, close button)
    4. Tap a photo → PhotoDetailScreen — check controls, reactions, comments trigger
    5. Check Camera screen — capture button, flash controls, mode toggles
    6. Check Darkroom — reveal button, timer, bottom sheet
    7. Long-press a photo → check dropdown menu styling
    8. Check MeStoryCard vs FriendStoryCard — consistent ring and avatar styling
    9. Confirm: All screens look identical to before (no visual regressions)
  </how-to-verify>
  <resume-signal>Type "approved" to continue, or describe any visual regressions or inconsistencies to fix</resume-signal>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npx expo lint` passes without errors
- [ ] All core screens and components use design system constants
- [ ] Story cards consistent with each other
- [ ] Modal overlays use colors.overlay.dark consistently
- [ ] Reaction displays use pill.background/border constants
- [ ] Visual appearance unchanged (verified by human)
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- No visual regressions
- 4 screens + 12 components standardized
  </success_criteria>

<output>
After completion, create `.planning/phases/48-ui-ux-consistency-audit/48-06-SUMMARY.md`
</output>
