---
phase: 48-ui-ux-consistency-audit
plan: 07
type: execute
---

<objective>
Audit and fix profile, notifications, and shared components for UI/UX consistency.

Purpose: Complete the Phase 48 audit by standardizing remaining screens (Profile, Notifications, SongSearch, Selects, AlbumPhotoPicker) and all shared components (comments, tagging, notifications, buttons, inputs, icons). This final plan ensures every component in the app uses the design system consistently.
Output: All remaining screens and shared components using constants consistently. Phase 48 complete.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./summary.md
~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/48-ui-ux-consistency-audit/48-CONTEXT.md
@.planning/phases/48-ui-ux-consistency-audit/48-06-SUMMARY.md

# Design system references:

@src/constants/colors.js
@src/constants/spacing.js
@src/constants/typography.js
@src/constants/layout.js

# Screens to audit:

@src/screens/ProfileScreen.js
@src/screens/NotificationsScreen.js
@src/screens/SongSearchScreen.js
@src/screens/SelectsScreen.js
@src/screens/AlbumPhotoPickerScreen.js

# Comment components:

@src/components/comments/CommentsBottomSheet.js
@src/components/comments/CommentRow.js
@src/components/comments/CommentInput.js
@src/components/comments/CommentWithReplies.js
@src/components/comments/CommentPreview.js
@src/components/comments/GifPicker.js
@src/components/comments/MentionText.js

# Style files:

@src/styles/CommentsBottomSheet.styles.js
@src/styles/CommentRow.styles.js
@src/styles/CommentInput.styles.js
@src/styles/MentionText.styles.js
@src/styles/TagFriendsModal.styles.js
@src/styles/TaggedPeopleModal.styles.js
@src/styles/InAppNotificationBanner.styles.js

# Other components to audit:

@src/components/TagFriendsModal.js
@src/components/TaggedPeopleModal.js
@src/components/InAppNotificationBanner.js
@src/components/ProfileSong/ProfileSongCard.js
@src/components/ProfileSong/SongSearchResult.js
@src/components/ProfileSong/ClipSelectionModal.js
@src/components/ProfileSong/WaveformScrubber.js
@src/components/Button.js
@src/components/Input.js
@src/components/Card.js
@src/components/PixelIcon.js
@src/components/PixelSpinner.js
@src/components/ErrorBoundary.js
@src/components/AnimatedSplash.js

**Audit checklist per file:**

1. No hardcoded hex/rgb/rgba color values — use colors.\*
2. No hardcoded numeric padding/margin — use spacing.\*
3. No hardcoded font families — use typography.fontFamily.\*
4. No hardcoded font sizes — use typography.size.\*
5. No hardcoded border radius — use layout.borderRadius.\*
6. No hardcoded dimensions — use layout.dimensions.\*
7. Consistent patterns across all shared components
   </context>

<tasks>

<task type="auto">
  <name>Task 1: Audit and fix remaining screens (ProfileScreen, NotificationsScreen, SongSearchScreen, SelectsScreen, AlbumPhotoPickerScreen)</name>
  <files>src/screens/ProfileScreen.js, src/screens/NotificationsScreen.js, src/screens/SongSearchScreen.js, src/screens/SelectsScreen.js, src/screens/AlbumPhotoPickerScreen.js</files>
  <action>
Read each screen. Apply the full audit checklist:
1. Replace hardcoded colors → colors.* constants
2. Replace hardcoded spacing → spacing.* constants
3. Replace hardcoded fonts → typography.* constants
4. Replace hardcoded borderRadius → layout.borderRadius.*
5. Replace hardcoded dimensions → layout.dimensions.*

Specific checks:

- ProfileScreen: This is a primary screen and likely well-styled. Check for any post-Phase-16 additions. Sections (Selects, Song, Albums, Monthly) should have consistent section header styling.
- NotificationsScreen: Notification items should use consistent avatar + text + timestamp patterns. Unread indicator should use colors.interactive.primary or similar accent.
- SongSearchScreen: Search input and results should match established input/list patterns.
- SelectsScreen: Photo grid and selection UI should use consistent selection indicators.
- AlbumPhotoPickerScreen: Selection checkmarks, grid layout, and header should match established patterns.

Do NOT change layouts or functionality. Only standardize to constants.
</action>
<verify>npx expo lint passes, no import errors</verify>
<done>ProfileScreen, NotificationsScreen, SongSearchScreen, SelectsScreen, AlbumPhotoPickerScreen all use design system constants</done>
</task>

<task type="auto">
  <name>Task 2: Audit and fix shared components (comments, tagging, notifications, ProfileSong, Button, Input, Card, icons, and remaining)</name>
  <files>src/components/comments/CommentsBottomSheet.js, src/components/comments/CommentRow.js, src/components/comments/CommentInput.js, src/components/comments/CommentWithReplies.js, src/components/comments/CommentPreview.js, src/components/comments/GifPicker.js, src/components/comments/MentionText.js, src/components/TagFriendsModal.js, src/components/TaggedPeopleModal.js, src/components/InAppNotificationBanner.js, src/components/ProfileSong/ProfileSongCard.js, src/components/ProfileSong/SongSearchResult.js, src/components/ProfileSong/ClipSelectionModal.js, src/components/ProfileSong/WaveformScrubber.js, src/components/Button.js, src/components/Input.js, src/components/Card.js, src/components/PixelIcon.js, src/components/PixelSpinner.js, src/components/ErrorBoundary.js, src/components/AnimatedSplash.js, src/styles/CommentsBottomSheet.styles.js, src/styles/CommentRow.styles.js, src/styles/CommentInput.styles.js, src/styles/MentionText.styles.js, src/styles/TagFriendsModal.styles.js, src/styles/TaggedPeopleModal.styles.js, src/styles/InAppNotificationBanner.styles.js</files>
  <action>
Read each component and style file. Apply the full audit checklist.

Specific checks:

- CommentsBottomSheet: Sheet background (colors.background.secondary), drag handle styling, consistent with other sheets
- CommentRow: Avatar size, username/text colors, timestamp styling, reply button
- CommentInput: Input styling matching established Input component patterns
- CommentWithReplies/CommentPreview: Should match CommentRow styling
- MentionText: @mention links should use colors.interactive.primary
- GifPicker: Search input and grid should use consistent patterns
- TagFriendsModal/TaggedPeopleModal: Modal overlay, search input, friend list should match established patterns
- InAppNotificationBanner: Banner background, text colors, dismiss interaction
- ProfileSong components: Card background, waveform colors, search results should match established patterns
- Button: This is the base component — ensure it uses constants exclusively as other components inherit from it
- Input: Base input component — ensure consistent focus/unfocus border colors, text styling
- Card: Base card component — ensure consistent background, border radius, shadow
- PixelIcon/PixelSpinner: Icon colors should use colors.icon.\* or inherit
- ErrorBoundary: Error display should use colors.status.danger for errors, consistent button styling for retry
- AnimatedSplash: Splash colors should match app theme

These shared components are the foundation — if they're standardized, the whole app benefits.
</action>
<verify>npx expo lint passes, no import errors</verify>
<done>All shared components use design system constants exclusively — comments, tagging, notifications, ProfileSong, Button, Input, Card, icons all standardized</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Standardized all remaining screens and all shared components to use design system constants. This completes the Phase 48 UI/UX consistency audit — every screen and component in the app now uses the design system.</what-built>
  <how-to-verify>
    1. Run: npx expo start
    2. Check Profile screen — sections, song card, album bar
    3. Open comments on a photo — check comment rows, input, @mentions
    4. Check notification screen — notification items, unread indicators
    5. Search for a song — check search input and results
    6. Select photos for album/selects — check selection UI
    7. Tag friends on a photo — check tag modal
    8. Trigger in-app notification — check banner styling
    9. Check buttons and inputs across the app — consistent styling
    10. Confirm: All screens look identical to before (no visual regressions)
    11. Final check: Does the entire app feel cohesive and consistent?
  </how-to-verify>
  <resume-signal>Type "approved" to continue, or describe any visual regressions or inconsistencies to fix</resume-signal>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npx expo lint` passes without errors
- [ ] All remaining screens use design system constants
- [ ] All shared components use design system constants
- [ ] Comments system consistent (sheet, rows, input, mentions)
- [ ] Base components (Button, Input, Card) fully standardized
- [ ] Visual appearance unchanged (verified by human)
- [ ] Phase 48 complete — entire app audited
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- No visual regressions
- 5 screens + 21 components standardized
- Phase 48 complete — every screen and component in the app uses design system constants consistently
  </success_criteria>

<output>
After completion, create `.planning/phases/48-ui-ux-consistency-audit/48-07-SUMMARY.md`

Include in the summary:

- Total screens audited across all 7 plans
- Total components audited
- Total files modified
- Key patterns standardized
- Phase 48 complete status
  </output>
