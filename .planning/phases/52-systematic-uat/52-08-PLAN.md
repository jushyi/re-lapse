---
phase: 52-systematic-uat
plan: 08
type: execute
---

<objective>
Test social features on a single device — friends screen, other user profiles, blocking, reporting, contact sync.

Purpose: Verify social discovery and management features work correctly for viewing and managing connections.
Output: Friends screen tested, other profiles viewable, blocking/reporting functional, contact sync verified.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./summary.md
~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/52-systematic-uat/52-CONTEXT.md

@src/screens/FriendsScreen.js
@src/screens/OtherUserProfile.js
@src/screens/ContactsSyncScreen.js
@src/screens/BlockedUsersScreen.js
@src/services/firebase/friendshipService.js
@src/services/firebase/blockService.js
@src/services/firebase/reportService.js

**Testing device:** Physical iPhone
**Firebase environment:** Dev environment
**Starting state:** Logged in, have some friends (from existing dev data)

**Features to test:**

- Friends screen (list of friends)
- Friend suggestions (mutual friends, contacts)
- Other user profiles (view, navigate)
- Blocking users
- Reporting users
- Unblocking users
- Contact sync (permissions, matching)
- Edge cases: empty friends list, blocked user interactions
  </context>

<tasks>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Friends screen and friend suggestions</what-built>
  <how-to-verify>
    **Step 1: View Friends List**
    1. Go to Profile → Friends (or tap friends count)
    2. Verify FriendsScreen appears with list of friends
    3. Verify each friend shows: profile photo, username, display name
    4. Scroll through list
    5. Verify list loads completely (or paginates if 100+ friends)

    **Expected:**
    - Friends list loads within 2 seconds
    - All friends displayed correctly
    - No duplicate entries
    - Smooth scrolling

    **Step 2: Friend Suggestions**
    1. On FriendsScreen, look for "Suggestions" or "People You May Know" section
    2. Verify suggested users appear
    3. Verify suggestions are mutual friends or contact matches
    4. Tap a suggestion to view their profile
    5. Verify navigates to OtherUserProfile

    **Expected:**
    - Suggestions appear if available
    - Suggestions are relevant (mutual friends or contacts)
    - Profile navigation works

    **If no suggestions:** Note it and move on (may indicate no mutual friends or contacts not synced).

    **Step 3: Search Friends (if feature exists)**
    1. Look for search bar on FriendsScreen
    2. Type a friend's username or name
    3. Verify list filters to matching friends
    4. Clear search
    5. Verify full list returns

    **Expected:**
    - Search filters in real-time
    - Results accurate
    - Clear search restores full list

    **If search doesn't exist:** Note it and move on.

  </how-to-verify>
  <resume-signal>Type "approved" if friends screen tests pass, or describe issues</resume-signal>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Other user profiles and navigation</what-built>
  <how-to-verify>
    **Step 1: View Other User Profile**
    1. From FriendsScreen, tap a friend
    2. Verify OtherUserProfile screen opens
    3. Verify profile displays: photo, username, display name, bio
    4. Verify Selects banner appears (if friend has selects)
    5. Verify photo grid shows friend's photos
    6. Verify albums section shows friend's albums

    **Expected:**
    - Profile loads within 2 seconds
    - All profile data visible
    - Layout matches own profile style
    - No broken images or missing data

    **Step 2: Navigate from Other Profile**
    1. On other user's profile, tap a photo
    2. Verify photo opens in detail modal
    3. Swipe between photos
    4. Verify navigation constrained to this user's photos
    5. Tap album on other user's profile
    6. Verify album grid opens
    7. Tap a photo in album
    8. Verify photo detail opens

    **Expected:**
    - Photo detail works from other profiles
    - Album viewing works
    - Swipe navigation smooth
    - Back navigation returns correctly

    **Step 3: Profile Actions (if available)**
    1. On other user's profile, look for action buttons (e.g., "Remove Friend", "Block", "Report")
    2. Verify buttons appear (or in menu)
    3. Do NOT tap remove/block yet (we'll test in next checkpoint)

    **Expected:**
    - Action buttons accessible
    - Clear what each action does

  </how-to-verify>
  <resume-signal>Type "approved" if other profile tests pass, or describe issues</resume-signal>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Blocking and reporting users</what-built>
  <how-to-verify>
    **Step 1: Block User**
    1. On an other user's profile (choose a test account or less active friend)
    2. Tap menu (three dots) → "Block User"
    3. Verify confirmation alert explains what blocking does
    4. Confirm block
    5. Verify returns to previous screen or friends list
    6. Go to Profile → Settings → Privacy → Blocked Users
    7. Verify blocked user appears in list

    **Expected:**
    - Block requires confirmation
    - Explains consequences (can't see each other's content)
    - User added to blocked list immediately

    **Step 2: Verify Block Effects**
    1. Go to Feed
    2. Verify blocked user's photos do NOT appear
    3. Go to FriendsScreen
    4. Verify blocked user removed from friends list
    5. Try searching for blocked user (if search exists)
    6. Verify blocked user not findable

    **Expected:**
    - Blocked user invisible in feed
    - Removed from friends
    - Cannot be found or viewed

    **Step 3: Unblock User**
    1. Go to Settings → Privacy → Blocked Users
    2. Tap blocked user
    3. Tap "Unblock"
    4. Verify confirmation alert
    5. Confirm unblock
    6. Verify user removed from blocked list
    7. Go to FriendsScreen
    8. Verify user does NOT automatically re-friend (block removed friendship)

    **Expected:**
    - Unblock requires confirmation
    - User removed from blocked list
    - Friendship NOT automatically restored (expected behavior)

    **Step 4: Report User**
    1. Navigate to a different other user's profile
    2. Tap menu → "Report"
    3. Verify report reason options appear (e.g., spam, harassment, inappropriate content)
    4. Select a reason (e.g., "Test report - please ignore")
    5. Add optional description
    6. Submit report
    7. Verify confirmation message appears
    8. Verify user is NOT blocked automatically (reporting ≠ blocking)

    **Expected:**
    - Report reasons clear and appropriate
    - Report submits successfully
    - Confirmation shown
    - User remains visible after reporting (unless also blocked)

  </how-to-verify>
  <resume-signal>Type "approved" if blocking/reporting tests pass, or describe issues</resume-signal>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Contact sync</what-built>
  <how-to-verify>
    **Step 1: Navigate to Contact Sync**
    1. Go to Profile → Settings → Account → Sync Contacts (or wherever contact sync is)
    2. Verify ContactsSyncScreen appears

    **Expected:**
    - Screen accessible from settings

    **Step 2: Grant Contact Permission**
    1. Tap "Sync Contacts" or "Allow Access"
    2. Verify iOS contacts permission prompt appears
    3. Tap "Allow"
    4. Verify permission granted
    5. Verify app shows "Syncing..." or loading state
    6. Wait for sync to complete
    7. Verify success message or list of matched contacts

    **Expected:**
    - Permission prompt appears
    - Sync starts after granting permission
    - Completes within 10 seconds (depending on contact count)
    - Shows matched contacts or friend suggestions

    **If permission already granted:** Skip permission step, just verify sync works.

    **Step 3: View Contact Matches**
    1. Verify matched contacts appear (users whose phone numbers match your contacts)
    2. Tap "Add Friend" next to a matched contact (if feature exists)
    3. Verify friend request sent or friend added

    **Expected:**
    - Matched contacts accurate
    - Friend request flow works from contact matches

    **If no matches:** This is fine, note it and move on.

    **Step 4: Revoke Contact Permission (Edge Case)**
    1. Go to iPhone Settings → Flick → Contacts
    2. Toggle contacts permission OFF
    3. Return to app → go to ContactsSyncScreen
    4. Verify app detects permission revoked
    5. Verify shows message like "Contacts access denied" with button to open Settings
    6. Re-enable permission in iPhone Settings
    7. Return to app
    8. Verify sync option available again

    **Expected:**
    - App detects permission changes
    - Provides clear path to re-enable
    - Re-sync works after re-enabling

  </how-to-verify>
  <resume-signal>Type "approved" if contact sync tests pass, or describe issues</resume-signal>
</task>

<task type="auto">
  <name>Fix any issues found during social features testing</name>
  <files>Determined by issues found</files>
  <action>If issues found (e.g., friends list doesn't load, profiles crash, blocking doesn't hide user, unblock doesn't work, contact sync fails), investigate and fix inline. Read friendship/block/report services and screens, diagnose, fix, have user re-test. Escalate complex issues to GitHub.</action>
  <verify>User confirms issue is resolved</verify>
  <done>All reported issues fixed or escalated</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] Friends list loads and displays correctly
- [ ] Friend suggestions appear (if available)
- [ ] Other user profiles viewable
- [ ] Navigation from other profiles works
- [ ] Block user works and hides content
- [ ] Unblock user works and removes from blocked list
- [ ] Report user submits successfully
- [ ] Contact sync grants permission and syncs
- [ ] Contact permission revocation detected
- [ ] No crashes or broken UI
</verification>

<success_criteria>

- Friends screen displays all friends correctly
- Other user profiles load and navigate properly
- Blocking hides user from feed and friends
- Unblocking removes from blocked list
- Reporting submits without blocking user
- Contact sync works with permission handling
- Edge cases handled (permission revoked, empty lists)
  </success_criteria>

<output>
After completion, create `.planning/phases/52-systematic-uat/52-08-SUMMARY.md`:

# Plan 52-08 Summary: Social Features (Single Device)

**[One-line summary of test results]**

## Test Results

**Friends Screen:**

- Friends list: [PASS/FAIL + notes]
- Suggestions: [PASS/FAIL/N/A + notes]
- Search: [PASS/FAIL/N/A + notes]

**Other Profiles:**

- Profile viewing: [PASS/FAIL + notes]
- Navigation: [PASS/FAIL + notes]
- Photo/album viewing: [PASS/FAIL + notes]

**Blocking:**

- Block user: [PASS/FAIL + notes]
- Block effects: [PASS/FAIL + notes]
- Unblock user: [PASS/FAIL + notes]

**Reporting:**

- Report submission: [PASS/FAIL + notes]

**Contact Sync:**

- Permission grant: [PASS/FAIL + notes]
- Sync process: [PASS/FAIL + notes]
- Matched contacts: [PASS/FAIL/N/A + notes]
- Permission revocation: [PASS/FAIL + notes]

## Issues Found

[List any bugs or issues]

## Inline Fixes Applied

[List fixes or "None"]

## Next Step

Ready for 52-09-PLAN.md (Contributions & IAP)
</output>
