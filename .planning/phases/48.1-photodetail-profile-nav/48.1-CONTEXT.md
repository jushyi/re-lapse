# Phase 48.1: PhotoDetail Profile Navigation Fix — Context

**Gathered:** 2026-02-12
**Status:** Ready for planning

<vision>
## How This Should Work

When a user is viewing a photo in PhotoDetail (the transparent modal overlay) and taps on any username or avatar — the photo owner at the top, a commenter's name/avatar, or an @mentioned username in comment text — the profile should seamlessly slide over the PhotoDetail view. It should feel like drilling deeper into a stack, not like a separate navigation event.

The profile appears on top of everything, using its existing presentation style (card). PhotoDetail stays in place underneath, fully preserved. When the user goes back from the profile, they return to PhotoDetail exactly as they left it — same scroll position, comments still open, everything intact. The profile is a side trip, not an exit.

Currently this is completely broken: the profile renders behind the transparent modal, so it's invisible. All profile navigation from photo views is blocked.

</vision>

<essential>
## What Must Be Nailed

- **Every tap works** — Photo owner header, comment author names/avatars, and @mentioned usernames in comment text all navigate to the profile reliably
- **Smooth, polished transition** — The animation between PhotoDetail and Profile must feel natural, not janky or jarring. Use the existing OtherUserProfile presentation style, just fix the z-order
- **No Phase 46.1 regressions** — The fix that switched OtherUserProfile from `fullScreenModal` to `presentation: 'card'` (to allow child card screens like albums on iOS) must remain intact. Album viewing and child navigation from profiles cannot break.

</essential>

<boundaries>
## What's Out of Scope

- No new features or interactions on OtherUserProfile itself — just make navigation to it work
- No changes to the Phase 46.1 presentation approach (card presentation stays)
- No other modal z-order fixes beyond PhotoDetail → Profile navigation

</boundaries>

<specifics>
## Specific Ideas

- Profile should use its existing presentation style — the fix is about z-order/layering, not changing how the profile screen looks or animates
- PhotoDetail state must be fully preserved during the round-trip (scroll position, comments open/closed, input state)
- Three entry points must all work: photo owner header tap, comment author tap, @mention tap in comment text

</specifics>

<notes>
## Additional Context

This is ISS-014 from the deferred issues list. The root cause is a presentation mode conflict: PhotoDetail uses `presentation: 'transparentModal'` which renders on a higher native layer than OtherUserProfile's `presentation: 'card'`. The card screen pushes but appears behind the transparent modal.

Phase 46.1 changed OtherUserProfile from `fullScreenModal` to `card` to fix child screen navigation on iOS. That decision must be preserved — this fix needs to work within that constraint, not revert it.

</notes>

---

_Phase: 48.1-photodetail-profile-nav_
_Context gathered: 2026-02-12_
