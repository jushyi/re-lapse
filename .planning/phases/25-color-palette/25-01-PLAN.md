---
phase: 25-color-palette
plan: 01
type: execute
domain: react-native
teaching: true
---

<objective>
Set up development environment and build first UI component (ThemeCard).

Purpose: Onboard a junior developer to the codebase while creating the foundational component for theme selection.
Output: Working dev environment, understanding of project patterns, ThemeCard component ready for use.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/25-color-palette/25-CONTEXT.md
@src/context/ThemeContext.js
@src/constants/colors.js

**Prior Work:**

- Phase 16 established centralized color constants in colors.js
- ThemeContext.js exists with basic palette switching (accent colors only)
- This phase expands to full theming with Settings UI

**Teaching Context:**
This plan is designed for a junior developer new to React Native. Instructions are detailed with learning checkpoints. Logic tasks include hints; UI code can be provided directly.
</context>

<learning_objectives>
By the end of this plan, you will:

1. Have a working React Native development environment
2. Understand the project's file structure and patterns
3. Know how to create components following project conventions
4. Have built your first component (ThemeCard)
   </learning_objectives>

<tasks>

<task type="checkpoint:human-action" gate="blocking">
  <action>Verify development environment is ready</action>
  <instructions>
**Before starting, ensure you have:**

1. **Node.js** (v18 or later)

   ```bash
   node --version
   # Should show v18.x.x or higher
   ```

2. **Git** configured with your identity

   ```bash
   git config user.name
   git config user.email
   ```

3. **Xcode** (macOS) or **Android Studio** (for emulator)
   - iOS: Xcode from App Store, then `xcode-select --install`
   - Android: Android Studio with emulator configured

4. **Clone and install:**

   ```bash
   cd ~/Projects  # or your preferred location
   git clone [repository-url]
   cd "Lapse Clone"
   npm install
   ```

5. **Start the development server:**
   ```bash
   npx expo start
   ```
   Press `i` for iOS simulator or `a` for Android emulator.

**If you see the app running with the camera/feed interface, you're ready!**
</instructions>
<verification>App launches in simulator without errors</verification>
<resume-signal>Type "environment ready" when the app runs successfully</resume-signal>
</task>

<task type="auto">
  <name>Task 1: Explore the codebase structure</name>
  <files>READ ONLY - no modifications</files>
  <action>
**Codebase Tour - Read and understand these key areas:**

1. **Entry point:** `App.js`
   - See how providers wrap the app (AuthProvider, ThemeProvider, etc.)
   - Notice the notification setup

2. **Navigation:** `src/navigation/AppNavigator.js`
   - Conditional rendering based on auth state
   - Tab navigator structure
   - How screens are registered

3. **Color system:** `src/constants/colors.js`
   - Hierarchical color organization
   - How colors are exported and used

4. **Theme context:** `src/context/ThemeContext.js`
   - Current palette system (4 presets)
   - useTheme hook pattern
   - AsyncStorage persistence

5. **Example component:** `src/components/FeedPhotoCard.js`
   - How components are structured
   - StyleSheet patterns
   - Props and state usage

**Key patterns to note:**

- Components use `export default` for main component
- Styles defined with `StyleSheet.create()` at bottom
- Colors imported from constants
- Functional components with hooks (no class components)

**Document any questions for discussion.**
</action>
<verify>Developer can explain: Where do screens live? How are colors used? What does ThemeContext provide?</verify>
<done>Developer has explored codebase and understands project structure</done>
</task>

<task type="auto">
  <name>Task 2: Create ThemeCard component</name>
  <files>src/components/ThemeCard.js</files>
  <action>
**Create a component that displays a theme preview card.**

The ThemeCard will show:

- Theme name (e.g., "Dark", "Light", "Ocean")
- Mini preview of the theme colors
- Selected state indicator

**Component requirements:**

```
Props:
- theme: object with { name, colors: { background, card, text, accent, accentSecondary } }
- isSelected: boolean - whether this theme is currently active
- onPress: function - called when card is tapped

Visual design:
- Card size: 100x120 (width x height)
- Mini preview showing the 5 theme colors as squares/circles
- Theme name below preview
- Purple border when selected (using colors.interactive.primary)
- Subtle border when not selected
```

**Learning hint - Component structure:**

```jsx
import React from 'react';
import { View, Text, TouchableOpacity, StyleSheet } from 'react-native';
import { colors } from '../constants/colors';

const ThemeCard = ({ theme, isSelected, onPress }) => {
  // Your implementation here
  // 1. Create a TouchableOpacity as the outer wrapper
  // 2. Inside, create a preview area showing the 5 colors
  // 3. Below preview, show the theme name
  // 4. Apply selected styling conditionally
};

const styles = StyleSheet.create({
  // Define your styles here
});

export default ThemeCard;
```

**Color preview hint:**
Think about how to display 5 colors in a small space. Options:

- 5 small squares in a row
- 2 rows (3 top, 2 bottom)
- Stacked horizontal bars

**Conditional styling hint:**

```jsx
style={[styles.card, isSelected && styles.cardSelected]}
```

**After implementing, test by temporarily importing in ProfileScreen:**

```jsx
// At top of ProfileScreen.js
import ThemeCard from '../components/ThemeCard';

// In the render (temporarily, we'll remove later):
<ThemeCard
  theme={{
    name: 'Dark',
    colors: {
      background: '#000000',
      card: '#111111',
      text: '#FFFFFF',
      accent: '#8B5CF6',
      accentSecondary: '#EC4899',
    },
  }}
  isSelected={true}
  onPress={() => console.log('Theme tapped')}
/>;
```

  </action>
  <verify>
1. Component renders without errors
2. Shows theme name
3. Shows color preview
4. onPress fires when tapped
5. Selected state visually distinct from unselected
  </verify>
  <done>ThemeCard component created at src/components/ThemeCard.js, renders correctly with all props</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>ThemeCard component with color preview and selection state</what-built>
  <how-to-verify>
1. Run the app: `npx expo start`
2. Navigate to Profile tab
3. You should see the test ThemeCard rendered
4. Tap the card - console should log "Theme tapped"
5. Verify:
   - Card shows "Dark" label
   - 5 color squares/bars are visible
   - Card has purple border (selected state)
6. Change `isSelected={false}` and hot reload
7. Verify border changes to subtle/gray

**Review the code:**

- Is StyleSheet used (not inline styles)?
- Are colors imported from constants?
- Is the component reusable (no hardcoded values)?
  </how-to-verify>
  <resume-signal>Type "card approved" if working correctly, or describe issues to fix</resume-signal>
  </task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] Development environment working (app runs in simulator)
- [ ] Developer understands project structure
- [ ] ThemeCard.js created with correct patterns
- [ ] Component renders and responds to props
- [ ] Test code in ProfileScreen (will be removed in next plan)
</verification>

<success_criteria>

- Environment verified and working
- ThemeCard component created following project patterns
- Component tested and approved via checkpoint
- Developer comfortable with codebase navigation
  </success_criteria>

<output>
After completion, create `.planning/phases/25-color-palette/25-01-SUMMARY.md`:

# Phase 25 Plan 01: Developer Setup & First Component Summary

**[One-liner describing what was accomplished]**

## Learning Outcomes

- Environment setup completed
- Codebase structure understood
- First component created

## Files Created/Modified

- `src/components/ThemeCard.js` - Theme preview card component

## Questions/Notes from Developer

[Any questions that came up during exploration]

## Next Step

Ready for 25-02-PLAN.md (Theme System Core)
</output>
