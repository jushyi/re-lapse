---
phase: 15.2-camera-ui-darkroom-animation-overhaul
plan: 02-FIX
type: fix
---

<objective>
Fix 1 UAT issue from plan 15.2-02.

Source: 15.2-02-ISSUES.md
Priority: 0 critical, 0 major, 1 minor (3 sub-items)
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-phase.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/STATE.md
@.planning/ROADMAP.md

**Issues being fixed:**
@.planning/phases/15.2-camera-ui-darkroom-animation-overhaul/15.2-02-ISSUES.md

**Original plan for reference:**
@.planning/phases/15.2-camera-ui-darkroom-animation-overhaul/15.2-02-PLAN.md

**Current implementation:**
@src/screens/CameraScreen.js
</context>

<tasks>

<task type="auto">
  <name>Fix UAT-001: Increase card stack button size to ~95% of capture button</name>
  <files>src/screens/CameraScreen.js</files>
  <action>
Update CARD_WIDTH and CARD_HEIGHT constants to make the card stack button ~95% of the capture button size.

Current values:
- CARD_WIDTH = 50
- CARD_HEIGHT = 66 (4:3 aspect ratio)
- Capture button = 88px diameter

Target values (95% of 88px = 84px):
- CARD_WIDTH = 63 (84 * 0.75 to maintain 4:3 ratio, or simply scale current 50 -> 63)
- CARD_HEIGHT = 84 (the target height matching capture button)

Update the constants around line 440:
```javascript
const CARD_WIDTH = 63; // ~95% of capture button size (84 * 0.75 for 4:3 aspect)
const CARD_HEIGHT = 84; // ~95% of capture button diameter (88 * 0.95)
```

Also update darkroomCardContainer width to accommodate larger cards (line 703-708):
- width: CARD_WIDTH + 20 (from +16, to give more room for fanning)

Also update footerSpacer to match new dimensions (line 736-740).
  </action>
  <verify>App runs, card stack button appears larger (~95% of capture button height)</verify>
  <done>Card stack button is visually ~95% the size of capture button</done>
</task>

<task type="auto">
  <name>Fix UAT-001: Center card stack button properly in footer</name>
  <files>src/screens/CameraScreen.js</files>
  <action>
The card stack button is too close to the capture button. The footer uses flexbox with justifyContent: 'center' and gap: 24, but the visual balance is off because the button and spacer should fill equal space on either side of the capture button.

Update footerControls style (around line 627-634) to use space-between layout instead of center with gap:
```javascript
footerControls: {
  flexDirection: 'row',
  justifyContent: 'space-between', // Changed from 'center'
  alignItems: 'center',
  paddingBottom: 20,
  paddingHorizontal: 40, // Increased from 16 for better edge spacing
  width: '100%', // Ensure full width for space-between
},
```

This will push the card button to the left edge and the spacer to the right edge, with the capture button naturally centered between them.

If the button still feels too close after space-between, increase paddingHorizontal to give more breathing room from edges.
  </action>
  <verify>App runs, card stack button is centered between left edge and capture button (not hugging capture button)</verify>
  <done>Card stack button properly centered in its allocated space</done>
</task>

<task type="auto">
  <name>Fix UAT-001: Speed up capture animation by ~1.25x</name>
  <files>src/screens/CameraScreen.js</files>
  <action>
The card stack capture animation (fan-out + scale) is slightly too slow. Speed it up by ~1.25x by adjusting spring physics.

In playCardCaptureAnimation function (around lines 228-266):

Current spring values:
- friction: 4 (expand), 5 (contract)
- tension: 200 (expand), 100 (contract)

To make it ~1.25x faster, increase tension (makes spring snappier):
```javascript
const playCardCaptureAnimation = () => {
  cardScale.setValue(1);
  cardFanSpread.setValue(0);

  Animated.parallel([
    // Scale: 1 -> 1.25 -> 1 (faster springs)
    Animated.sequence([
      Animated.spring(cardScale, {
        toValue: 1.25,
        friction: 4,
        tension: 280, // Was 200 - increased for ~1.25x faster
        useNativeDriver: true,
      }),
      Animated.spring(cardScale, {
        toValue: 1,
        friction: 5,
        tension: 140, // Was 100 - increased for ~1.25x faster
        useNativeDriver: true,
      }),
    ]),
    // Fan spread: 0 -> 1 -> 0 (faster springs)
    Animated.sequence([
      Animated.spring(cardFanSpread, {
        toValue: 1,
        friction: 4,
        tension: 280, // Was 200
        useNativeDriver: true,
      }),
      Animated.spring(cardFanSpread, {
        toValue: 0,
        friction: 5,
        tension: 140, // Was 100
        useNativeDriver: true,
      }),
    ]),
  ]).start();
};
```

The tension values increased from 200->280 and 100->140 (~1.4x) which should feel noticeably snappier.
  </action>
  <verify>App runs, capture animation feels snappier (~1.25x faster than before)</verify>
  <done>Capture animation is noticeably faster/snappier</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Fixed card stack button size, centering, and animation speed</what-built>
  <how-to-verify>
    1. Run: npx expo start (or use running dev server)
    2. Open app on device/simulator
    3. Navigate to Camera tab
    4. Verify card stack button size:
       - Should be ~95% the height of the capture button (visually similar size)
    5. Verify centering:
       - Card button should be equidistant from left edge and capture button
       - Not hugging the capture button like before
    6. Capture a photo and observe animation:
       - Fan-out + scale should feel snappier than before
       - Should feel quick and satisfying
  </how-to-verify>
  <resume-signal>Type "approved" if all three fixes look good, or describe remaining issues</resume-signal>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] Card stack button is ~95% of capture button size
- [ ] Card stack button is properly centered in its space (not too close to capture)
- [ ] Capture animation is ~1.25x faster (snappier feel)
- [ ] Human verification approved
</verification>

<success_criteria>
- All three UAT-001 sub-items addressed
- Visual improvements approved by user
- No regression in darkroom button functionality
- Ready for re-verification
</success_criteria>

<output>
After completion, create `.planning/phases/15.2-camera-ui-darkroom-animation-overhaul/15.2-02-FIX-SUMMARY.md`
</output>
