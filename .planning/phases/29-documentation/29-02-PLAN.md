---
phase: 29-documentation
plan: 02
type: execute
---

<objective>
Document the animation system with high-level overview and inline JSDoc.

Purpose: Enable developers to understand the card animation system design decisions and extend it confidently.
Output: docs/ANIMATIONS.md overview and JSDoc comments on animation-focused hooks.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/29-documentation/29-CONTEXT.md
@.planning/STATE.md (for decisions on animation timing)
@src/hooks/useSwipeableCard.js
@src/hooks/useDarkroom.js
@src/hooks/usePhotoDetailModal.js
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create docs/ANIMATIONS.md</name>
  <files>docs/ANIMATIONS.md</files>
  <action>
Create docs/ANIMATIONS.md with high-level animation system documentation:

1. Overview section - explain the card-based triage UX (swipe to archive/journal/delete)

2. Card Stack System section:
   - Stack visualization (3 visible cards, front is interactive)
   - Stack styling: scale (1, 0.96, 0.92), offset (-20, -40 negative = above), opacity (1, 0.85, 0.7)
   - Why cards peek from top (negative offset)

3. Swipe Gesture section:
   - Arc motion: y = 0.4 \* |x| (downward curve as card moves horizontally)
   - Rotation: linear tilt in swipe direction
   - Color overlays: fade in based on swipe progress (blue=archive left, green=journal right)
   - Threshold: 100px horizontal triggers action

4. Exit Animation section:
   - Duration: 800ms for visible arc motion
   - Exponential arc (x^2.5) - starts flat, accelerates downward
   - Cascade trigger: 100ms clearance delay before next card advances

5. Undo/Entry Animation section:
   - 400ms entry duration
   - Slides in from the direction it was swiped out

6. Timing Decisions section:
   - Reference key decisions from STATE.md (17-FIX, 17-FIX-2, 18.1-FIX-4, 18.4-01, 18.6-01)
   - Explain why specific values were chosen

Do NOT use emojis. Keep explanations concise and practical.
</action>
<verify>docs/ANIMATIONS.md exists with all 6 sections</verify>
<done>ANIMATIONS.md explains the full animation system with timing rationale</done>
</task>

<task type="auto">
  <name>Task 2: Add JSDoc to animation hooks</name>
  <files>src/hooks/useSwipeableCard.js, src/hooks/useDarkroom.js, src/hooks/usePhotoDetailModal.js</files>
  <action>
Add JSDoc comments to exported functions in animation-focused hooks. Format:
- Brief one-line description
- @param with type and description for each parameter
- @returns with type and description

For useSwipeableCard.js:

- Already has good header comment and main hook JSDoc
- Add JSDoc to helper functions: getStackScale, getStackOffset, getStackOpacity
- Add JSDoc to imperative methods returned by hook

For useDarkroom.js:

- Add header comment explaining hook purpose
- Add JSDoc to the main useDarkroom function with all params
- Add JSDoc to key callbacks (handleArchive, handleJournal, handleDelete, handleUndo)

For usePhotoDetailModal.js:

- Add header comment explaining hook purpose
- Add JSDoc to the main usePhotoDetailModal function
- Add JSDoc to gesture-related functions and animated styles

Keep JSDoc minimal: description + @param types + @returns only. No @example blocks or edge case documentation. Do NOT add emojis.
</action>
<verify>Each hook file has JSDoc on exported functions and key callbacks</verify>
<done>All 3 animation hooks have consistent JSDoc documentation</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] docs/ANIMATIONS.md created with all sections
- [ ] useSwipeableCard.js has JSDoc on helper functions
- [ ] useDarkroom.js has header comment and function JSDoc
- [ ] usePhotoDetailModal.js has header comment and function JSDoc
- [ ] No emojis in any documentation
- [ ] npm run lint passes (if configured)
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- Animation system is documented at both high-level and code-level
- Future developers can understand timing decisions
  </success_criteria>

<output>
After completion, create `.planning/phases/29-documentation/29-02-SUMMARY.md`
</output>
