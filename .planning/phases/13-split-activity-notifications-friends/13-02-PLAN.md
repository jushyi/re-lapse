---
phase: 13-split-activity-notifications-friends
plan: 02
type: execute
---

<objective>
Remove Friends tab from ActivityScreen, simplifying it to a pure Notifications screen.

Purpose: Complete the activity/friends split by removing redundant Friends functionality from ActivityScreen — FriendsListScreen already handles this via the new feed header icon.
Output: Simplified NotificationsScreen with no tab navigation, focused solely on notifications.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/13-split-activity-notifications-friends/13-CONTEXT.md
@.planning/phases/13-split-activity-notifications-friends/13-01-SUMMARY.md

# Key source files:

@src/screens/ActivityScreen.js
@src/screens/FriendsListScreen.js

**Context from 13-01:**

- Friend icon added to FeedScreen header navigates to FriendsListScreen
- Heart icon navigates to ActivityScreen (unchanged)
- FriendsListScreen has full friends management (search, list, remove)
- ActivityScreen currently has redundant FriendsTab duplicating FriendsListScreen functionality

**Current state of ActivityScreen:**

- Two-tab structure (Notifications tab + Friends tab)
- Uses @react-navigation/material-top-tabs TabNavigator
- NotificationsTab: friend requests + reaction notifications
- FriendsTab: ~400 lines duplicating FriendsListScreen functionality

**Goal:** Remove FriendsTab and TabNavigator, making ActivityScreen a simple notifications list.
</context>

<tasks>

<task type="auto">
  <name>Task 1: Remove Friends tab and simplify to pure Notifications screen</name>
  <files>src/screens/ActivityScreen.js</files>
  <action>
Refactor ActivityScreen to remove the redundant Friends tab and simplify to a single-purpose notifications screen:

1. **Remove FriendsTab component entirely** (~400 lines including its styles)
2. **Remove TabNavigator imports and usage:**
   - Remove: `import { createMaterialTopTabNavigator } from '@react-navigation/material-top-tabs';`
   - Remove: `const Tab = createMaterialTopTabNavigator();`
   - Remove TabNavigator wrapper and Tab.Screen components
3. **Inline NotificationsTab content into main component:**
   - Move NotificationsTab's render logic directly into ActivityScreen
   - Keep all notification functionality (friend requests section, reactions section)
   - Keep useFocusEffect for marking notifications as read
4. **Update header title from "Activity" to "Notifications"**
5. **Remove friendStyles StyleSheet** (FriendsTab styles)
6. **Remove unused imports:**
   - Remove TextInput (only used in FriendsTab search)
   - Clean up any other imports only used by FriendsTab
7. **Keep notifStyles as-is** (rename to just `styles` for consistency)

The resulting screen should:

- Show friend requests pinned at top
- Show reaction notifications below
- Have back button and "Notifications" header title
- Have no tabs
  </action>
  <verify>App builds without errors: `npx expo start` and navigate to Activity via heart icon</verify>
  <done>ActivityScreen simplified to notifications-only, no tabs, ~400 lines removed, FriendsTab functionality removed</done>
  </task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Simplified Notifications screen (was Activity screen with tabs)</what-built>
  <how-to-verify>
    1. Run: npx expo start
    2. Navigate to Feed tab
    3. Tap heart icon (right side of header)
    4. Verify: Header shows "Notifications" (not "Activity")
    5. Verify: No tabs visible — just a scrollable list
    6. Verify: Friend requests section appears at top (if any pending)
    7. Verify: Reactions section appears below friend requests
    8. Verify: Back button returns to Feed
    9. Verify: Friend icon (left side of feed header) still navigates to FriendsListScreen
    10. Verify: No duplicate friends functionality in Activity/Notifications screen
  </how-to-verify>
  <resume-signal>Type "approved" to continue, or describe issues to fix</resume-signal>
</task>

</tasks>

<verification>
Before declaring phase complete:
- [ ] ActivityScreen shows only notifications (no tabs)
- [ ] Header title is "Notifications"
- [ ] Friend requests section works (accept/decline)
- [ ] Reactions section displays notifications
- [ ] Back navigation works
- [ ] No console errors or warnings
- [ ] FriendsTab code fully removed (~400 lines saved)
- [ ] Friend icon in feed header still works correctly
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- No ESLint errors
- Clean separation: heart icon → notifications only, friend icon → friends management
- Phase 13 complete
  </success_criteria>

<output>
After completion, create `.planning/phases/13-split-activity-notifications-friends/13-02-SUMMARY.md`:

# Phase 13 Plan 02: Activity Screen Cleanup Summary

**[Substantive one-liner about what shipped]**

## Accomplishments

- [Key outcome 1]
- [Key outcome 2]

## Files Created/Modified

- `path/to/file.ts` - Description

## Decisions Made

[Key decisions and rationale, or "None"]

## Issues Encountered

[Problems and resolutions, or "None"]

## Next Phase Readiness

Phase 13 complete, ready for Phase 14: Profile Field Character Limits
</output>
