---
phase: 16-color-constants-standardization
plan: 04
type: execute
---

<objective>
Update Camera and Darkroom screens to use color constants.

Purpose: Standardize the media capture screens for consistent appearance.
Output: CameraScreen.js, CameraScreen.styles.js, DarkroomScreen.js, and DarkroomScreen.styles.js using color constants.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/16-color-constants-standardization/16-CONTEXT.md
@.planning/phases/16-color-constants-standardization/16-01-SUMMARY.md

@src/constants/colors.js
@src/screens/CameraScreen.js
@src/styles/CameraScreen.styles.js
@src/screens/DarkroomScreen.js
@src/styles/DarkroomScreen.styles.js

**Color mapping reference:**

- '#000000' → colors.background.primary
- '#FFFFFF' → colors.text.primary, colors.icon.primary, or colors.background.white
- '#CCCCCC' → colors.text.secondary (or define new muted color)
- '#7C3AED' → colors.brand.purple or colors.interactive.primaryPressed
- '#DB2777' → colors.brand.pink
- '#8E8E93' → colors.text.secondary (iOS gray)
  </context>

<tasks>

<task type="auto">
  <name>Task 1: Update CameraScreen.js and CameraScreen.styles.js</name>
  <files>src/screens/CameraScreen.js, src/styles/CameraScreen.styles.js</files>
  <action>
For CameraScreen.js:
1. Add import: `import { colors } from '../constants/colors';`

2. Replace hardcoded colors:
   - FlashIcon default color="#FFFFFF" → color={colors.icon.primary}
   - FlipCameraIcon default color="#FFFFFF" → color={colors.icon.primary}
   - SVG Stop colors '#FFFFFF' → may need to keep as literal for SVG compatibility, or use colors.text.primary
   - '#7C3AED' (purple ready) → colors.brand.purple
   - '#DB2777' (pink developing) → colors.brand.pink
   - ActivityIndicator color="#FFFFFF" → color={colors.icon.primary}

For CameraScreen.styles.js:

1. Add import: `import { colors } from '../constants/colors';`

2. Replace all StyleSheet colors:
   - backgroundColor: '#000000' → backgroundColor: colors.background.primary
   - backgroundColor: '#FFFFFF' → backgroundColor: colors.background.white
   - color: '#FFFFFF' → color: colors.text.primary
   - color: '#CCCCCC' → color: colors.text.secondary
   - color: '#000000' → color: colors.text.inverse
   - shadowColor: '#FFFFFF' or '#000000' → colors.text.primary or colors.text.inverse

Note: Some SVG-specific colors may need to remain as strings if they don't accept variables.

**Fix white flash issue:** Ensure CameraScreen's outermost container has `flex: 1` and `backgroundColor: colors.background.primary`.
</action>
<verify>Camera screen loads; flash/flip icons visible; no visual regressions</verify>
<done>CameraScreen.js and CameraScreen.styles.js use color constants</done>
</task>

<task type="auto">
  <name>Task 2: Update DarkroomScreen.js and DarkroomScreen.styles.js</name>
  <files>src/screens/DarkroomScreen.js, src/styles/DarkroomScreen.styles.js</files>
  <action>
For DarkroomScreen.js:
1. Add import: `import { colors } from '../constants/colors';`

2. Replace hardcoded colors:
   - ActivityIndicator color="#FFFFFF" → color={colors.icon.primary}
   - Ionicons color="#FFFFFF" → color={colors.icon.primary}

For DarkroomScreen.styles.js:

1. Add import: `import { colors } from '../constants/colors';`

2. Replace StyleSheet colors:
   - backgroundColor: '#8E8E93' → backgroundColor: colors.text.secondary (iOS gray)
   - color: '#FFFFFF' → color: colors.text.primary

Search for any other hex values and replace.

**Fix white flash issue:** Ensure DarkroomScreen's outermost container has `flex: 1` and `backgroundColor: colors.background.primary`.
</action>
<verify>Darkroom screen loads; developing photos display correctly; undo button visible; no white flash at edges</verify>
<done>DarkroomScreen.js and DarkroomScreen.styles.js use color constants</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] Camera screen loads without errors
- [ ] Camera icons (flash, flip) are visible and white
- [ ] Darkroom screen loads without errors
- [ ] Developing indicator colors are correct (purple/pink)
- [ ] No hardcoded hex values remain in any of the four files
</verification>

<success_criteria>

- CameraScreen.js uses color constants
- CameraScreen.styles.js uses color constants
- DarkroomScreen.js uses color constants
- DarkroomScreen.styles.js uses color constants
- No hardcoded hex values (except possibly SVG-specific cases)
- Visual appearance maintained
  </success_criteria>

<output>
After completion, create `.planning/phases/16-color-constants-standardization/16-04-SUMMARY.md`
</output>
