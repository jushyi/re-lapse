---
phase: 16-color-constants-standardization
plan: 07
type: execute
---

<objective>
Update modal components to use color constants.

Purpose: Standardize modal overlays for consistent appearance across the app.
Output: PhotoDetailModal.js, StoriesViewerModal.js, DropdownMenu.js, RenameAlbumModal.js, and DarkroomBottomSheet.js using color constants.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/16-color-constants-standardization/16-CONTEXT.md
@.planning/phases/16-color-constants-standardization/16-01-SUMMARY.md

@src/constants/colors.js
@src/components/PhotoDetailModal.js
@src/components/StoriesViewerModal.js
@src/components/DropdownMenu.js
@src/components/RenameAlbumModal.js
@src/components/DarkroomBottomSheet.js

**Color mapping reference:**

- '#000000' → colors.background.primary
- '#2A2A2A' → colors.background.tertiary
- '#333333' → colors.border.subtle
- '#FFFFFF' → colors.text.primary or colors.icon.primary
- 'rgba(0, 0, 0, 0.5)' → colors.overlay.dark
  </context>

<tasks>

<task type="auto">
  <name>Task 1: Update PhotoDetailModal.js and StoriesViewerModal.js</name>
  <files>src/components/PhotoDetailModal.js, src/components/StoriesViewerModal.js</files>
  <action>
For PhotoDetailModal.js:
1. Add import: `import { colors } from '../constants/colors';`

2. Replace hardcoded colors:
   - Background colors → colors.background.\*
   - Text colors → colors.text.\*
   - Border colors → colors.border.\*
   - Overlay colors → colors.overlay.\*

For StoriesViewerModal.js:

1. Add import: `import { colors } from '../constants/colors';`

2. Replace all hardcoded colors with constants.

3. Both modals should have consistent dark backgrounds (colors.background.primary).

Search for all # and rgba( patterns and replace.

**Fix white flash issue:** Ensure modal containers have `flex: 1` and `backgroundColor: colors.background.primary` to prevent white showing through during open/close animations.
</action>
<verify>Photo detail modal opens correctly; Stories viewer works; colors are consistent; no white flash during modal transitions</verify>
<done>PhotoDetailModal.js and StoriesViewerModal.js use color constants</done>
</task>

<task type="auto">
  <name>Task 2: Update DropdownMenu.js, RenameAlbumModal.js, and DarkroomBottomSheet.js</name>
  <files>src/components/DropdownMenu.js, src/components/RenameAlbumModal.js, src/components/DarkroomBottomSheet.js</files>
  <action>
For each file:
1. Add import: `import { colors } from '../constants/colors';`

2. Replace hardcoded colors:
   - Menu/sheet backgrounds → colors.background.secondary or colors.background.tertiary
   - Text colors → colors.text.\*
   - Icon colors → colors.icon.\*
   - Border colors → colors.border.\*
   - Overlay/backdrop → colors.overlay.dark

For DropdownMenu.js specifically:

- Ensure menu items have consistent background and text colors
- Danger/destructive items should use colors.status.danger

For RenameAlbumModal.js:

- Input field styling should use colors.background.secondary and colors.text.primary

For DarkroomBottomSheet.js:

- Sheet background should be colors.background.secondary
- Handle/indicator colors as appropriate

Search for all # patterns and replace.
</action>
<verify>Dropdown menus work; Rename modal displays correctly; Bottom sheet slides up properly</verify>
<done>DropdownMenu.js, RenameAlbumModal.js, and DarkroomBottomSheet.js use color constants</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] PhotoDetailModal opens and displays correctly
- [ ] StoriesViewerModal opens and displays correctly
- [ ] DropdownMenu appears with correct styling
- [ ] RenameAlbumModal input field is visible and usable
- [ ] DarkroomBottomSheet slides up correctly
- [ ] No hardcoded hex values remain in any files
</verification>

<success_criteria>

- All five modal components use color constants
- No hardcoded hex or rgba values
- Modals have consistent dark styling
- Visual appearance maintained
  </success_criteria>

<output>
After completion, create `.planning/phases/16-color-constants-standardization/16-07-SUMMARY.md`
</output>
