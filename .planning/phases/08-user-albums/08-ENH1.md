---
phase: 08-user-albums
plan: ENH1
type: enhancement
---

<objective>
Add stacked card effect to album display - two cards peek behind the cover card, matching the Darkroom triage stack style.

Enhancement request: Visual improvement for album cards
</objective>

<context>
@src/components/AlbumCard.js
@src/hooks/useSwipeableCard.js (reference for stack values)

**Stack effect reference (from useSwipeableCard.js):**

- Scale: front=1.0, behind=0.96, furthest=0.92
- Offset: front=0, behind=-20px (peeks up), furthest=-40px
- Opacity: front=1.0, behind=0.85, furthest=0.7
  </context>

<tasks>

<task type="auto">
  <name>Task 1: Add stacked card effect to AlbumCard</name>
  <files>src/components/AlbumCard.js</files>
  <action>
Modify AlbumCard to show 3 stacked cards (2 behind + 1 cover):

Structure:

```jsx
const AlbumCard = ({ album, onPress, ... }) => {
  return (
    <TouchableOpacity onPress={onPress} style={styles.container}>
      {/* Back card (furthest) */}
      <View style={[styles.stackCard, styles.stackCardBack]} />

      {/* Middle card */}
      <View style={[styles.stackCard, styles.stackCardMiddle]} />

      {/* Front card (cover) */}
      <View style={styles.coverCard}>
        <Image source={{ uri: album.coverUrl }} style={styles.coverImage} />
      </View>

      {/* Album name below */}
      <Text style={styles.albumName}>{album.name}</Text>
    </TouchableOpacity>
  );
};
```

Stack card styles (matching Darkroom triage):

```javascript
container: {
  alignItems: 'center',
  // Extra padding top for peek cards
  paddingTop: 8,
},
stackCard: {
  position: 'absolute',
  width: 150,  // Same as cover
  height: 150,
  backgroundColor: '#2A2A2A',  // Dark gray placeholder
  borderRadius: 8,
  // Subtle border like triage cards
  borderWidth: 1,
  borderColor: 'rgba(255,255,255,0.1)',
},
stackCardBack: {
  // Furthest back - peeks most
  transform: [{ scale: 0.92 }, { translateY: -8 }],
  opacity: 0.7,
  zIndex: 1,
},
stackCardMiddle: {
  // Middle card
  transform: [{ scale: 0.96 }, { translateY: -4 }],
  opacity: 0.85,
  zIndex: 2,
},
coverCard: {
  width: 150,
  height: 150,
  borderRadius: 8,
  overflow: 'hidden',
  zIndex: 3,
},
```

The back cards peek from BEHIND (above) the cover card, creating depth.
Only show stack effect if album has photos (otherwise just show cover).
</action>
<verify>Album cards show 3-card stack with two cards peeking behind cover</verify>
<done>Album cards display with stacked card effect</done>
</task>

</tasks>

<verification>
- [ ] Album cards show stacked effect (2 cards behind cover)
- [ ] Stack scales and offsets match triage style
- [ ] Effect looks good at 150x150 album card size
- [ ] App builds without errors
</verification>

<success_criteria>

- Album cards have visual depth from stacked card effect
- Matches Darkroom triage aesthetic
  </success_criteria>

<output>
Create `.planning/phases/08-user-albums/08-ENH1-SUMMARY.md`
</output>
