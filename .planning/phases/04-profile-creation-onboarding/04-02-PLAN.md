---
phase: 04-profile-creation-onboarding
plan: 02
type: execute
---

<objective>
Redesign SelectsScreen with a large preview area, 10 thumbnail slots, and single-photo picker interaction.

Purpose: Transform SelectsScreen from basic multi-select to a polished highlights picker with preview/thumbnail interaction.
Output: Redesigned SelectsScreen with large preview, 10 thumbnail slots, tap-to-preview, and single photo picker.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./summary.md
~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/04-profile-creation-onboarding/04-CONTEXT.md
@.planning/phases/04-profile-creation-onboarding/04-01-PLAN.md

**Key files:**
@src/screens/SelectsScreen.js
@src/components/StepIndicator.js (created in 04-01)
@src/constants/colors.js

**From 04-CONTEXT.md:**

- Title: "Pick Your Highlights", subtitle: "Choose up to 10 photos to highlight on your profile"
- Large preview area (empty state: gray box with dotted outline, "Tap to add photos", photo icon)
- After selecting: first photo shows in preview, tap thumbnails to change preview
- Bottom: horizontal scrollable strip with 10 thumbnail slots
- Selected photos fill from left, empty slots show plus icon
- Single photo picker (not multi-select) when tapping placeholder or empty slots
- Step indicator showing "Step 2 of 2"
- Single "Complete Profile Setup" button
  </context>

<tasks>

<task type="auto">
  <name>Task 1: Redesign SelectsScreen layout with preview and thumbnails</name>
  <files>src/screens/SelectsScreen.js</files>
  <action>
Completely redesign SelectsScreen layout:

**Constants:**

- MAX_SELECTS = 10 (was 5)
- THUMBNAIL_SIZE = 56
- PREVIEW_ASPECT_RATIO = 4/5 (portrait, like Instagram)

**State:**

- selectedPhotos: array of { uri, assetId } (keep existing)
- selectedIndex: number (index of photo shown in preview, default 0)
- uploading: boolean (keep existing)

**Layout structure (top to bottom):**

1. **SafeAreaView + StepIndicator** (Step 2 of 2)

2. **Title section:**
   - Title: "Pick Your Highlights" (fontSize 28, bold, centered)
   - Subtitle: "Choose up to 10 photos to highlight on your profile" (fontSize 16, colors.text.secondary)

3. **Preview Area (flex: 1, takes remaining space):**
   - Container with 4:5 aspect ratio, maxWidth that fits screen with padding
   - If no photos: gray background (colors.background.tertiary), dotted border, centered content:
     - Ionicons "images-outline" size 64, colors.text.secondary
     - "Tap to add photos" text below
   - If photos selected: Image component showing selectedPhotos[selectedIndex].uri
   - Entire preview area is TouchableOpacity that opens photo picker

4. **Thumbnail Strip (fixed height at bottom, above button):**
   - Horizontal ScrollView, showsHorizontalScrollIndicator={false}
   - 10 slots total, each THUMBNAIL_SIZE x THUMBNAIL_SIZE
   - Slot styling:
     - Has photo: Image with uri, border if selected (selectedIndex matches)
     - Empty: colors.background.tertiary, Ionicons "add" in center, dotted border
   - Gap between slots: 8px
   - Tapping filled slot: setSelectedIndex to that index
   - Tapping empty slot: open photo picker

5. **Button Area:**
   - "Complete Profile Setup" button (full width)
   - No skip text (will be added in 04-04 with confirmation)

**Styling:**

- Match existing dark theme (colors.background.primary)
- Thumbnails have borderRadius: 8
- Preview has borderRadius: 12
- Selected thumbnail has 2px white border
  </action>
  <verify>npm start - SelectsScreen shows new layout with preview area and 10 thumbnail slots</verify>
  <done>SelectsScreen displays large preview area (empty placeholder when no photos), 10 thumbnail slots at bottom, step indicator showing "Step 2 of 2"</done>
  </task>

<task type="auto">
  <name>Task 2: Implement tap-to-preview and single photo picker</name>
  <files>src/screens/SelectsScreen.js</files>
  <action>
Implement the photo selection and preview interaction:

**Single Photo Picker (replaces multi-select):**

Update handleAddPhotos (rename to handlePickPhoto):

- Remove allowsMultipleSelection
- Remove selectionLimit
- Pick single image: allowsEditing: false, quality: 0.8
- When photo picked:
  - Add to selectedPhotos array at first empty slot (or end if under 10)
  - Set selectedIndex to the new photo's index
- If 10 photos already selected, show Alert "Maximum reached" - can't add more

**Tap thumbnail to preview:**

Create handleThumbnailPress(index):

- If index has photo: setSelectedIndex(index)
- If index is empty (no photo at that index): handlePickPhoto()

**Tap preview area:**

- If no photos: handlePickPhoto()
- If has photos: handlePickPhoto() to add more (if under 10)

**Photo removal (for now, simple tap-and-hold or X button):**

For this plan, add simple removal:

- Each filled thumbnail has small X button (position: absolute, top-right)
- Tapping X removes that photo from array
- If removed photo was selectedIndex, set selectedIndex to 0 (or -1 if empty)

Note: Drag-to-delete will be added in 04-03, but we need basic removal working now.

**handleComplete updates:**

- Keep existing logic (save to Firestore, set selectsCompleted: true)
- Works with 0 photos (creates empty selects array)
  </action>
  <verify>

1. Tap empty preview - picker opens, select photo, shows in preview
2. Tap empty thumbnail slot - picker opens, adds photo
3. Tap filled thumbnail - preview updates to show that photo
4. Tap X on thumbnail - removes photo
5. Add 10 photos - can't add more (shows alert)
   </verify>
   <done>Single photo picker works, tapping thumbnails updates preview, basic photo removal via X button, 10 photo maximum enforced</done>
   </task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Redesigned SelectsScreen with large preview, 10 thumbnail slots, and single photo picker</what-built>
  <how-to-verify>
    1. Run: npx expo start
    2. Navigate to SelectsScreen (complete ProfileSetupScreen first if needed)
    3. Confirm: Title says "Pick Your Highlights"
    4. Confirm: Step indicator shows "Step 2 of 2"
    5. Confirm: Large empty preview area with "Tap to add photos"
    6. Confirm: 10 thumbnail slots at bottom (first empty, 9 with plus icons)
    7. Tap preview - photo picker opens (single select, not multi)
    8. Select a photo - appears in preview AND first thumbnail slot
    9. Add a second photo - appears in second slot, preview stays on first
    10. Tap second thumbnail - preview updates to show second photo
    11. Tap X on a thumbnail - photo removed
    12. Add 10 photos, try to add 11th - should show "Maximum reached" alert
    13. Tap "Complete Profile Setup" - proceeds to main app
  </how-to-verify>
  <resume-signal>Type "approved" to continue, or describe issues to fix</resume-signal>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] SelectsScreen shows "Pick Your Highlights" title
- [ ] StepIndicator shows "Step 2 of 2"
- [ ] Large preview area with empty state placeholder
- [ ] 10 thumbnail slots displayed
- [ ] Single photo picker (not multi-select)
- [ ] Tap thumbnail updates preview
- [ ] Basic photo removal (X button) works
- [ ] 10 photo maximum enforced
- [ ] "Complete Profile Setup" button works
</verification>

<success_criteria>

- SelectsScreen completely redesigned with new layout
- Preview area shows selected photo or empty placeholder
- 10 thumbnail slots with filled/empty states
- Single photo picker interaction
- Tap-to-preview working
- Basic removal working
- Completes to main app successfully
  </success_criteria>

<output>
After completion, create `.planning/phases/04-profile-creation-onboarding/04-02-SUMMARY.md`
</output>
